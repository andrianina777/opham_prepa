{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"ma-3\"\n};\nconst _hoisted_2 = {\n  class: \"font-weight-thin\"\n};\nconst _hoisted_3 = {\n  class: \"font-weight-thin\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"span\", {\n  density: \"compact\"\n}, [/*#__PURE__*/_createElementVNode(\"b\", null, \"Date Livraison\")], -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"pa-2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_MyTabs = _resolveComponent(\"MyTabs\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_spacer = _resolveComponent(\"v-spacer\");\n  const _component_v_app_bar = _resolveComponent(\"v-app-bar\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  const _component_v_progress_linear = _resolveComponent(\"v-progress-linear\");\n  const _component_MyTable = _resolveComponent(\"MyTable\");\n  const _component_v_main = _resolveComponent(\"v-main\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  const _component_v_app = _resolveComponent(\"v-app\");\n  return _openBlock(), _createBlock(_component_v_card, null, {\n    default: _withCtx(() => [_createVNode(_component_v_app, null, {\n      default: _withCtx(() => [_createVNode(_component_v_app_bar, {\n        elevation: 1,\n        density: \"compact\",\n        color: \"#d7ead5\",\n        app: \"\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_card, {\n          density: \"compact\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_MyTabs, {\n            storeEtape: _ctx.storeEtape\n          }, null, 8 /* PROPS */, [\"storeEtape\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_spacer), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"p\", _hoisted_2, [_createTextVNode(\" Delai Normal :\"), _createElementVNode(\"b\", null, _toDisplayString(_ctx.valApre), 1 /* TEXT */)]), _createElementVNode(\"p\", _hoisted_3, [_createTextVNode(\" Début Alerte : \"), _createElementVNode(\"b\", null, _toDisplayString(_ctx.alertApre), 1 /* TEXT */)])])]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_container, {\n        fluid: \"\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_main, {\n          style: {\n            \"--v-layout-top\": \"40px\"\n          },\n          app: \"\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_card_actions, {\n            density: \"compact\"\n          }, {\n            default: _withCtx(() => [_hoisted_4, _createVNode(_component_v_card_title, null, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: _ctx.store.params.dateliv,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.store.params.dateliv = $event),\n                type: \"date\",\n                label: \"Date Livraison\",\n                \"single-line\": \"\",\n                \"hide-details\": \"\",\n                density: \"compact\",\n                clearable: \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\"])]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_v_spacer), _createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n              variant: \"tonal\",\n              color: \"primary\",\n              onClick: _ctx.searchEvent,\n              disabled: _ctx.loading,\n              density: \"compact\"\n            }, {\n              default: _withCtx(() => [_createTextVNode(\"Rechercher\")]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"onClick\", \"disabled\"])]),\n            _: 1 /* STABLE */\n          }), _createElementVNode(\"div\", _hoisted_5, [_ctx.loading ? (_openBlock(), _createBlock(_component_v_progress_linear, {\n            key: 0,\n            color: \"primary\",\n            rounded: \"\",\n            indeterminate: \"\",\n            height: \"5\",\n            density: \"compact\"\n          })) : (_openBlock(), _createBlock(_component_MyTable, {\n            key: 1,\n            headers: _ctx.headers,\n            items: _ctx.store.commandes,\n            action1: \"preparer\",\n            onAction1Item: _ctx.showPreparer,\n            action2: \"     voir    \",\n            onAction2Item: _ctx.showDialog,\n            onMyAlert: _ctx.alertValue,\n            onMyVal: _ctx.valValue,\n            height: \"690\",\n            etape: \"attePrep\",\n            showAction1: true\n          }, null, 8 /* PROPS */, [\"headers\", \"items\", \"onAction1Item\", \"onAction2Item\", \"onMyAlert\", \"onMyVal\"]))]), _createCommentVNode(\" <MyLoading :loading=\\\"loading\\\" @close=\\\"loading = false\\\"></MyLoading> \"), _createCommentVNode(\" <router-view></router-view> \")]),\n          _: 1 /* STABLE */\n        }), _createCommentVNode(\" <v-footer app class=\\\"bg-grey-lighten-1 \\\">\\n                    <v-row justify=\\\"start\\\" no-gutters>\\n                        <MyList titre_list=\\\"Priorité\\\" :items_list=\\\"list_priorite\\\"></MyList>\\n                    </v-row>\\n                    <v-row justify=\\\"end\\\" no-gutters>\\n                        <MyList titre_list=\\\"Valeur Client \\\" :items_list=\\\"list_valeur\\\"></MyList>\\n                    </v-row>\\n                </v-footer> \")]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"mappings":";;EASqBA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAkB;;EAIxBA,KAAK,EAAC;AAAkB;gCAQvBC,oBAAoD;EAA9CC,OAAO,EAAC;AAAS,iBAACD,oBAAqB,WAAlB,gBAAc;;EAWxCD,KAAK,EAAC;AAAM;;;;;;;;;;;;;;;uBAhCjCG,aAwDSC;sBAvDL,MAsDQ,CAtDRC,aAsDQC;wBArDJ,MAeY,CAfZD,aAeYE;QAfAC,SAAS,EAAE,CAAC;QAAGN,OAAO,EAAC,SAAS;QAACO,KAAK,EAAC,SAAS;QAACC,GAAG,EAAH;;0BACzD,MAES,CAFTL,aAESD;UAFDF,OAAO,EAAC;QAAS;4BACrB,MAA0C,CAA1CG,aAA0CM;YAAjCC,UAAU,EAAEC;UAAU;;YAEnCR,aAAqBS,sBAErBb,oBAQM,OARNc,UAQM,GAPFd,oBAEI,KAFJe,UAEI,oBAFwB,iBACV,uBAAqB,4BAAfH,YAAO,oBAG/BZ,oBAEI,KAFJgB,UAEI,oBAFwB,kBACT,uBAAsB,4BAAhBJ,cAAS;;;UAI1CR,aAoCca;QApCDC,KAAK,EAAL;MAAK;0BACd,MA0BS,CA1BTd,aA0BSe;UA1BDC,KAA4B,EAA5B;YAAA;UAAA,CAA4B;UAACX,GAAG,EAAH;;4BACjC,MAWiB,CAXjBL,aAWiBiB;YAXDpB,OAAO,EAAC;UAAS;8BAC7B,MAAoD,CAApDqB,UAAoD,EACpDlB,aAGemB;gCAFX,MAC4D,CAD5DnB,aAC4DoB;4BADrCZ,UAAK,CAACa,MAAM,CAACC,OAAO;2EAApBd,UAAK,CAACa,MAAM,CAACC,OAAO;gBAAEC,IAAI,EAAC,MAAM;gBAACC,KAAK,EAAC,gBAAgB;gBAAC,aAAW,EAAX,EAAW;gBACvF,cAAY,EAAZ,EAAY;gBAAC3B,OAAO,EAAC,SAAS;gBAAC4B,SAAS,EAAT;;;gBAEvCzB,aAAWS,sBAEXT,aAAYS,sBACZT,aACwC0B;cADjCC,OAAO,EAAC,OAAO;cAACvB,KAAK,EAAC,SAAS;cAAEwB,OAAK,EAAEpB,gBAAW;cAAGqB,QAAQ,EAAErB,YAAO;cAC1EX,OAAO,EAAC;;gCAAU,MAAU,kBAAV,YAAU;;;;cAEpCD,oBAUM,OAVNkC,UAUM,GATuBtB,YAAO,kBAAhCV,aAGoBiC;;YAHc3B,KAAK,EAAC,SAAS;YAAC4B,OAAO,EAAP,EAAO;YAACC,aAAa,EAAb,EAAa;YAACC,MAAM,EAAC,GAAG;YAC9ErC,OAAO,EAAC;+BAGZC,aAIUqC;;YAJOC,OAAO,EAAE5B,YAAO;YAAG6B,KAAK,EAAE7B,UAAK,CAAC8B,SAAS;YAAEC,OAAO,EAAC,UAAU;YACzEC,aAAW,EAAEhC,iBAAY;YAAEiC,OAAO,EAAC,eAA4D;YAC/FC,aAAW,EAAElC,eAAU;YAAGmC,SAAQ,EAAEnC,eAAU;YAAGoC,OAAM,EAAEpC,aAAQ;YAAE0B,MAAM,EAAC,KAAK;YAChFW,KAAK,EAAC,UAAU;YAAEC,WAAW,EAAE;sHAGvCC,gGAA4E,EAC5EA,oDAAoC;;YAExCA,qdAOe","names":["class","_createElementVNode","density","_createBlock","_component_v_card","_createVNode","_component_v_app","_component_v_app_bar","elevation","color","app","_component_MyTabs","storeEtape","_ctx","_component_v_spacer","_hoisted_1","_hoisted_2","_hoisted_3","_component_v_container","fluid","_component_v_main","style","_component_v_card_actions","_hoisted_4","_component_v_card_title","_component_v_text_field","params","dateliv","type","label","clearable","_component_v_btn","variant","onClick","disabled","_hoisted_5","_component_v_progress_linear","rounded","indeterminate","height","_component_MyTable","headers","items","commandes","action1","onAction1Item","action2","onAction2Item","onMyAlert","onMyVal","etape","showAction1","_createCommentVNode"],"sourceRoot":"","sources":["/Users/anjaniainaandrianina/Desktop/Project/prepa/ERPO/frontend_prepa/prepa/src/views/PageAttePrepa.vue"],"sourcesContent":["<template >\n    <v-card>\n        <v-app >\n            <v-app-bar :elevation=\"1\"  density=\"compact\" color=\"#d7ead5\" app>\n                <v-card density=\"compact\">\n                    <MyTabs :storeEtape=\"storeEtape\"></MyTabs>\n                </v-card>\n                <v-spacer></v-spacer>\n\n                <div class=\"ma-3\">\n                    <p class=\"font-weight-thin\">\n                        Delai Normal :<b>{{ valApre }} </b>\n                    </p>\n\n                    <p class=\"font-weight-thin\">\n                        Début Alerte : <b>{{ alertApre }}</b>\n                    </p>\n                </div>\n            </v-app-bar>\n            <v-container fluid>\n                <v-main style=\"--v-layout-top: 40px\" app>\n                    <v-card-actions density=\"compact\">\n                        <span density=\"compact\"><b>Date Livraison</b></span>\n                        <v-card-title>\n                            <v-text-field v-model=\"store.params.dateliv\" type=\"date\" label=\"Date Livraison\" single-line\n                                hide-details density=\"compact\" clearable></v-text-field>\n                        </v-card-title>\n                        <v-spacer/>\n\n                        <v-spacer />\n                        <v-btn variant=\"tonal\" color=\"primary\" @click=\"searchEvent\" :disabled=\"loading\"\n                            density=\"compact\">Rechercher</v-btn>\n                    </v-card-actions>\n                    <div class=\"pa-2\">\n                        <v-progress-linear v-if=\"loading\" color=\"primary\" rounded indeterminate height=\"5\"\n                            density=\"compact\">\n\n                        </v-progress-linear>\n                        <MyTable v-else :headers=\"headers\" :items=\"store.commandes\" action1=\"preparer\"\n                            @action1Item=\"showPreparer\" action2=\"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;voir&nbsp;&nbsp;&nbsp;&nbsp;\"\n                            @action2Item=\"showDialog\" @my-alert=\"alertValue\" @my-val=\"valValue\" height=\"690\"\n                            etape=\"attePrep\" :showAction1=\"true\">\n                        </MyTable>\n                    </div>\n                    <!-- <MyLoading :loading=\"loading\" @close=\"loading = false\"></MyLoading> -->\n                    <!-- <router-view></router-view> -->\n                </v-main>\n                <!-- <v-footer app class=\"bg-grey-lighten-1 \">\n                    <v-row justify=\"start\" no-gutters>\n                        <MyList titre_list=\"Priorité\" :items_list=\"list_priorite\"></MyList>\n                    </v-row>\n                    <v-row justify=\"end\" no-gutters>\n                        <MyList titre_list=\"Valeur Client \" :items_list=\"list_valeur\"></MyList>\n                    </v-row>\n                </v-footer> -->\n            </v-container>\n        </v-app>\n    </v-card>\n</template>\n\n<script>\nimport MyTable from '@/components/MyTable.vue';\nimport MyTabs from '@/components/MyTabs.vue';\nimport MyList from '@/components/MyList.vue';\nimport MyLoading from '@/components/Loading.vue';\nimport MyToolbars from '@/components/MyToolbars.vue';\nimport {\n    VApp,\n    VAppBar,\n    VMain,\n    VFooter\n} from 'vuetify/lib/components';\nimport { useCommandeStore } from \"@/store/Apreparer/commande.js\";\nimport { ref, reactive, onMounted, computed, onBeforeMount, defineComponent, watch } from \"vue\";\nimport { useRouter } from 'vue-router'\nimport voirCmd from \"@/views/VoirCmd.vue\"\nimport prepareCmd from \"@/views/PreparerCmd.vue\"\nimport { useformatDate } from '@/composables/useformatDate';\nimport { useEtapeStore } from \"@/store/utils/etape.js\";\nexport default defineComponent({\n    components: {\n        MyTable,\n        MyTabs,\n        MyList,\n        MyLoading,\n        MyToolbars,\n        voirCmd,\n        prepareCmd\n    },\n    name: 'attePrepa',\n    setup() {\n        const store = useCommandeStore();\n        // const loading = store.loading;\n        const storeEtape = useEtapeStore();\n        const loading = computed(() => store.loading)\n        const dialogVisible = ref(false);\n        let selectedItem = ref(null);\n        const alertApre = ref('');\n        const router = useRouter();\n        const valApre = ref('');\n\n        function showDialog(item) {\n            selectedItem.value = item;\n            dialogVisible.value = true;\n            const CC = selectedItem.value.value.code;\n            router.push({ name: 'voirCmd', params: { CC } });\n            history.pushState(null, null, window.location.href);\n\n        }\n\n        function showPreparer(item) {\n            selectedItem.value = item;\n            dialogVisible.value = true;\n            const CC = selectedItem.value.value.code;\n            router.push({ name: 'preparerCmd', params: { CC } });\n            history.pushState(null, null, window.location.href);\n        }\n\n        const headers = [\n            { title: 'commande', align: 'start', key: 'code', sortable: true },\n            { title: 'Date', align: 'center', key: 'date_com', sortable: true },\n            { title: 'Livraison', align: 'center', key: 'date_prevue_liv' },\n            { title: 'plus info', align: 'start', key: 'nom_client' },\n            { title: 'Commentaire', align: 'start', key: 'commentaire' },\n            { title: 'Axe', align: 'center', key: 'axe' },\n            { title: 'Depuis', align: 'end', key: 'duree_atte_prep' },\n            { title: 'partie', align: 'center', key: 'resume' },\n            { title: 'Nb Ligne', align: 'end', key: 'nbLigne' },\n            { title: 'Situation Mag', align: 'end', key: 'situation_mag' },\n            { title: 'Actions', align: 'start', key: 'actions', value: 'actions' },\n        ]\n\n\n\n        const list_priorite = [\n            { text: 'Urgent + A Prendre', color: '#FF0000' },\n            { text: 'Urgent', color: '#008000' },\n            { text: 'Grade', color: '#ff9933' },\n            { text: 'A Prendre', color: '#0000FF' },\n            { text: 'Normal' },\n        ]\n        const list_valeur = [\n            { text: 'Or', color: '#ff66ff' },\n            { text: 'Argent', color: '#ffff00' },\n            { text: 'Bronze', color: '#99ffff' },\n            { text: 'Fer', color: '#c0c0c0' },\n        ]\n\n\n        const searchEvent = async () => {\n            run_list_prepa();\n            await storeEtape.fetchEtape();\n\n        }\n\n\n        onMounted(() => {\n\n            run_list_prepa();\n            //    fetchAlerte();\n\n            //   setInterval(run_list_prepa, 30000);\n        })\n        const alertValue = (value) => {\n            alertApre.value = value;\n        }\n        const valValue = (value) => {\n            valApre.value = value;\n        }\n\n        function run_list_prepa() {\n            const params = {\n                groupe: '',\n                dateliv: store.params.dateliv,\n            }\n            store.fetchCommande(params);\n        }\n        return {\n            store, headers, searchEvent, loading, list_priorite, list_valeur, showDialog, valApre, alertApre, alertValue, valValue, showPreparer\n\n        }\n    },\n\n\n\n});\n\n</script>\n\n<style>\n.alert_class {\n    text-align: left;\n\n}\n</style>\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}