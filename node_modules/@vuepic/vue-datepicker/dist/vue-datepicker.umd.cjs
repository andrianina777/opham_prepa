(function(e,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],c):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=c(e.Vue,e.dateFns))})(this,function(e,c){"use strict";const Te=(t,r)=>{const a=t.__vccOpts||t;for(const[n,s]of r)a[n]=s;return a},Wt={},jt={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Gt=[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1)];function Zt(t,r){return e.openBlock(),e.createElementBlock("svg",jt,Gt)}const Le=Te(Wt,[["render",Zt]]),qt={},Xt={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Jt=[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function Qt(t,r){return e.openBlock(),e.createElementBlock("svg",Xt,Jt)}const Ft=Te(qt,[["render",Qt]]),en={},tn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},nn=[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function rn(t,r){return e.openBlock(),e.createElementBlock("svg",tn,nn)}const wt=Te(en,[["render",rn]]),an={},ln={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},on=[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1)];function sn(t,r){return e.openBlock(),e.createElementBlock("svg",ln,on)}const bt=Te(an,[["render",sn]]),cn={},un={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},dn=[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1)];function fn(t,r){return e.openBlock(),e.createElementBlock("svg",un,dn)}const $t=Te(cn,[["render",fn]]),mn={},yn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},hn=[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function gn(t,r){return e.openBlock(),e.createElementBlock("svg",yn,hn)}const Dt=Te(mn,[["render",gn]]),pn={},kn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},wn=[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function bn(t,r){return e.openBlock(),e.createElementBlock("svg",kn,wn)}const Mt=Te(pn,[["render",bn]]),Ct=(t,r)=>{const a=c.parse(t,r.slice(0,t.length),new Date);return c.isValid(a)&&c.isDate(a)?a:null},$n=(t,r)=>{if(typeof r=="string")return Ct(t,r);if(Array.isArray(r)){let a=null;for(const n of r)if(a=Ct(t,n),a)break;return a}return typeof r=="function"?r(t):null},b=t=>t?new Date(t):new Date,Dn=(t,r)=>{if(r){const n=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),f=t.getHours().toString().padStart(2,"0"),k=t.getMinutes().toString().padStart(2,"0");return`${t.getFullYear()}-${n}-${s}T${f}:${k}:00.000Z`}const a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(a).toISOString()},De=t=>{let r=b(JSON.parse(JSON.stringify(t)));return r=c.setHours(r,0),r=c.setMinutes(r,0),r=c.setSeconds(r,0),r=c.setMilliseconds(r,0),r},we=(t,r,a,n)=>{let s=t?b(t):b();return(r||r===0)&&(s=c.setHours(s,+r)),(a||a===0)&&(s=c.setMinutes(s,+a)),(n||n===0)&&(s=c.setSeconds(s,+n)),c.setMilliseconds(s,0)},ye=(t,r)=>!t||!r?!1:c.isBefore(De(t),De(r)),le=(t,r)=>!t||!r?!1:c.isEqual(De(t),De(r)),he=(t,r)=>!t||!r?!1:c.isAfter(De(t),De(r)),Bt=(t,r,a)=>t&&t[0]&&t[1]?he(a,t[0])&&ye(a,t[1]):t&&t[0]&&r?he(a,t[0])&&ye(a,r)||ye(a,t[0])&&he(a,r):!1,ve=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),St=()=>{const t=n=>{ve.menuFocused=n},r=n=>{ve.shiftKeyInMenu!==n&&(ve.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:ve.shiftKeyInMenu,menuFocused:ve.menuFocused})),setMenuFocused:t,setShiftKey:r}};function Je(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xe={},Mn={get exports(){return xe},set exports(t){xe=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){if(n===null||n===!0||n===!1)return NaN;var s=Number(n);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}t.exports=r.default})(Mn,xe);const Cn=Je(xe);var ze={},Bn={get exports(){return ze},set exports(t){ze=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){var s=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return s.setUTCFullYear(n.getFullYear()),n.getTime()-s.getTime()}t.exports=r.default})(Bn,ze);const Nt=Je(ze);function Sn(t,r){var a=Pn(r);return a.formatToParts?_n(a,t):Tn(a,t)}var Nn={year:0,month:1,day:2,hour:3,minute:4,second:5};function _n(t,r){try{for(var a=t.formatToParts(r),n=[],s=0;s<a.length;s++){var f=Nn[a[s].type];f>=0&&(n[f]=parseInt(a[s].value,10))}return n}catch(k){if(k instanceof RangeError)return[NaN];throw k}}function Tn(t,r){var a=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var Qe={};function Pn(t){if(!Qe[t]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),a=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Qe[t]=a?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Qe[t]}function Fe(t,r,a,n,s,f,k){var D=new Date(0);return D.setUTCFullYear(t,r,a),D.setUTCHours(n,s,f,k),D}var _t=36e5,An=6e4,et={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function tt(t,r,a){var n,s;if(!t||(n=et.timezoneZ.exec(t),n))return 0;var f;if(n=et.timezoneHH.exec(t),n)return f=parseInt(n[1],10),Tt(f)?-(f*_t):NaN;if(n=et.timezoneHHMM.exec(t),n){f=parseInt(n[1],10);var k=parseInt(n[2],10);return Tt(f,k)?(s=Math.abs(f)*_t+k*An,f>0?-s:s):NaN}if(Rn(t)){r=new Date(r||Date.now());var D=a?r:Vn(r),V=nt(D,t),P=a?V:En(r,V,t);return-P}return NaN}function Vn(t){return Fe(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function nt(t,r){var a=Sn(t,r),n=Fe(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime(),s=t.getTime(),f=s%1e3;return s-=f>=0?f:1e3+f,n-s}function En(t,r,a){var n=t.getTime(),s=n-r,f=nt(new Date(s),a);if(r===f)return r;s-=f-r;var k=nt(new Date(s),a);return f===k?f:Math.max(f,k)}function Tt(t,r){return-23<=t&&t<=23&&(r==null||0<=r&&r<=59)}var Pt={};function Rn(t){if(Pt[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Pt[t]=!0,!0}catch{return!1}}var vn=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const At=vn;var rt=36e5,Vt=6e4,In=2,ge={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:At};function at(t,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var a=r||{},n=a.additionalDigits==null?In:Cn(a.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=On(t),f=Yn(s.date,n),k=f.year,D=f.restDateString,V=Ln(D,k);if(isNaN(V))return new Date(NaN);if(V){var P=V.getTime(),O=0,S;if(s.time&&(O=xn(s.time),isNaN(O)))return new Date(NaN);if(s.timeZone||a.timeZone){if(S=tt(s.timeZone||a.timeZone,new Date(P+O)),isNaN(S))return new Date(NaN)}else S=Nt(new Date(P+O)),S=Nt(new Date(P+O+S));return new Date(P+O+S)}else return new Date(NaN)}function On(t){var r={},a=ge.dateTimePattern.exec(t),n;if(a?(r.date=a[1],n=a[3]):(a=ge.datePattern.exec(t),a?(r.date=a[1],n=a[2]):(r.date=null,n=t)),n){var s=ge.timeZone.exec(n);s?(r.time=n.replace(s[1],""),r.timeZone=s[1].trim()):r.time=n}return r}function Yn(t,r){var a=ge.YYY[r],n=ge.YYYYY[r],s;if(s=ge.YYYY.exec(t)||n.exec(t),s){var f=s[1];return{year:parseInt(f,10),restDateString:t.slice(f.length)}}if(s=ge.YY.exec(t)||a.exec(t),s){var k=s[1];return{year:parseInt(k,10)*100,restDateString:t.slice(k.length)}}return{year:null}}function Ln(t,r){if(r===null)return null;var a,n,s,f;if(t.length===0)return n=new Date(0),n.setUTCFullYear(r),n;if(a=ge.MM.exec(t),a)return n=new Date(0),s=parseInt(a[1],10)-1,vt(r,s)?(n.setUTCFullYear(r,s),n):new Date(NaN);if(a=ge.DDD.exec(t),a){n=new Date(0);var k=parseInt(a[1],10);return Un(r,k)?(n.setUTCFullYear(r,0,k),n):new Date(NaN)}if(a=ge.MMDD.exec(t),a){n=new Date(0),s=parseInt(a[1],10)-1;var D=parseInt(a[2],10);return vt(r,s,D)?(n.setUTCFullYear(r,s,D),n):new Date(NaN)}if(a=ge.Www.exec(t),a)return f=parseInt(a[1],10)-1,It(r,f)?Et(r,f):new Date(NaN);if(a=ge.WwwD.exec(t),a){f=parseInt(a[1],10)-1;var V=parseInt(a[2],10)-1;return It(r,f,V)?Et(r,f,V):new Date(NaN)}return null}function xn(t){var r,a,n;if(r=ge.HH.exec(t),r)return a=parseFloat(r[1].replace(",",".")),lt(a)?a%24*rt:NaN;if(r=ge.HHMM.exec(t),r)return a=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),lt(a,n)?a%24*rt+n*Vt:NaN;if(r=ge.HHMMSS.exec(t),r){a=parseInt(r[1],10),n=parseInt(r[2],10);var s=parseFloat(r[3].replace(",","."));return lt(a,n,s)?a%24*rt+n*Vt+s*1e3:NaN}return null}function Et(t,r,a){r=r||0,a=a||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var s=n.getUTCDay()||7,f=r*7+a+1-s;return n.setUTCDate(n.getUTCDate()+f),n}var zn=[31,28,31,30,31,30,31,31,30,31,30,31],Kn=[31,29,31,30,31,30,31,31,30,31,30,31];function Rt(t){return t%400===0||t%4===0&&t%100!==0}function vt(t,r,a){if(r<0||r>11)return!1;if(a!=null){if(a<1)return!1;var n=Rt(t);if(n&&a>Kn[r]||!n&&a>zn[r])return!1}return!0}function Un(t,r){if(r<1)return!1;var a=Rt(t);return!(a&&r>366||!a&&r>365)}function It(t,r,a){return!(r<0||r>52||a!=null&&(a<0||a>6))}function lt(t,r,a){return!(t!=null&&(t<0||t>=25)||r!=null&&(r<0||r>=60)||a!=null&&(a<0||a>=60))}var Ke={},Hn={get exports(){return Ke},set exports(t){Ke=t}},Ue={},Wn={get exports(){return Ue},set exports(t){Ue=t}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n,s){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(n[f]=s[f]);return n}t.exports=r.default})(Wn,Ue),function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var a=n(Ue);function n(f){return f&&f.__esModule?f:{default:f}}function s(f){return(0,a.default)({},f)}t.exports=r.default}(Hn,Ke);const jn=Je(Ke);function Gn(t,r,a){var n=at(t,a),s=tt(r,n,!0),f=new Date(n.getTime()-s),k=new Date(0);return k.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),k.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),k}function Zn(t,r,a){if(typeof t=="string"&&!t.match(At)){var n=jn(a);return n.timeZone=r,at(t,n)}var s=at(t,a),f=Fe(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()).getTime(),k=tt(r,new Date(f));return new Date(f+k)}const qn=(t,r=3)=>{const a=[];for(let n=0;n<t.length;n+=r)a.push([t[n],t[n+1],t[n+2]]);return a},Xn=(t,r)=>{const a=[1,2,3,4,5,6,7].map(f=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${f}T00:00:00+00:00`)).slice(0,2)),n=a.slice(0,r),s=a.slice(r+1,a.length);return[a[r]].concat(...s).concat(...n)},Jn=t=>{const r=[];for(let a=+t[0];a<=+t[1];a++)r.push({value:+a,text:`${a}`});return r},Qn=(t,r)=>{const a=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const f=s<10?`0${s}`:s;return new Date(`2017-${f}-01T00:00:00+00:00`)}).map((s,f)=>({text:a.format(s),value:f}))},Fn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ue=t=>{const r=e.unref(t);return r!=null&&r.$el?r==null?void 0:r.$el:r},er=t=>Object.assign({type:"dot"},t),Ot=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,He={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},de=t=>t,Yt=t=>t===0?t:!t||isNaN(+t)?null:+t,Lt=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),tr=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},t),nr=t=>t===null?0:typeof t=="boolean"?t?2:0:+t>=2?+t:2,rr=(t,r,a)=>t||(typeof a=="string"?a:r),ar=t=>typeof t=="boolean"?t?Lt({}):!1:Lt(t),lr=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),or=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),ke=t=>{const r=()=>{if(t.partialRange)return null;throw new Error(He.prop("partial-range"))},a=e.computed(()=>({ariaLabels:tr(t.ariaLabels),textInputOptions:Object.assign(lr(),t.textInputOptions),multiCalendars:nr(t.multiCalendars),previewFormat:rr(t.previewFormat,t.format,f()),filters:or(t.filters),transitions:ar(t.transitions),startTime:d()})),n=l=>{if(t.range)return l();throw new Error(He.prop("range"))},s=()=>{const l=t.enableSeconds?":ss":"";return t.is24?`HH:mm${l}`:`hh:mm${l} aa`},f=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?s():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${s()}`:"MM/dd/yyyy",k=(l,h)=>{if(typeof t.format=="function")return t.format(l);const g=h||f(),w=t.formatLocale?{locale:t.formatLocale}:void 0;return Array.isArray(l)?`${c.format(l[0],g,w)} ${t.modelAuto&&!l[1]?"":a.value.textInputOptions.rangeSeparator||"-"} ${l[1]?c.format(l[1],g,w):""}`:c.format(l,g,w)},D=l=>t.timezone?Gn(l,t.timezone):l,V=l=>t.timezone?Zn(l,t.timezone):l,P=e.computed(()=>l=>{var h;return(h=t.hideNavigation)==null?void 0:h.includes(l)}),O=l=>{const h=t.maxDate?he(D(l),D(b(t.maxDate))):!1,g=t.minDate?ye(D(l),D(b(t.minDate))):!1,w=E(l,t.disabledDates),U=a.value.filters.months.map(se=>+se).includes(c.getMonth(l)),ne=t.disabledWeekDays.length?t.disabledWeekDays.some(se=>+se===c.getDay(l)):!1,m=t.allowedDates.length?!t.allowedDates.some(se=>le(D(b(se)),D(l))):!1,o=c.getYear(l),Z=o<+t.yearRange[0]||o>+t.yearRange[1];return!(h||g||w||U||Z||ne||m)},S=l=>{const h={hours:c.getHours(b()),minutes:c.getMinutes(b()),seconds:c.getSeconds(b())};return Object.assign(h,l)},d=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[S(t.startTime[0]),S(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?S(t.startTime):null,M=l=>!O(l),Y=l=>Array.isArray(l)?c.isValid(l[0])&&(l[1]?c.isValid(l[1]):!0):l?c.isValid(l):!1,R=l=>l instanceof Date?l:c.parseISO(l),q=l=>{const h=c.startOfWeek(D(l),{weekStartsOn:+t.weekStart}),g=c.endOfWeek(D(l),{weekStartsOn:+t.weekStart});return[h,g]},E=(l,h)=>Array.isArray(h)?h.some(g=>le(D(b(g)),D(l))):h(l),v=(l,h,g)=>{let w=l?b(l):b();return(h||h===0)&&(w=c.setMonth(w,h)),g&&(w=c.setYear(w,g)),w},T=l=>c.set(b(),{hours:c.getHours(l),minutes:c.getMinutes(l),seconds:c.getSeconds(l)}),K=l=>c.set(b(),{hours:+l.hours||0,minutes:+l.minutes||0,seconds:+l.seconds||0}),J=(l,h,g,w)=>{if(!l)return!0;if(w){const x=g==="max"?c.isBefore(l,h):c.isAfter(l,h),U={seconds:0,milliseconds:0};return x||c.isEqual(c.set(l,U),c.set(h,U))}return g==="max"?l.getTime()<=h.getTime():l.getTime()>=h.getTime()},F=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,te=l=>Array.isArray(l)?[l[0]?T(l[0]):null,l[1]?T(l[1]):null]:T(l),y=l=>{const h=t.maxTime?K(t.maxTime):b(t.maxDate);return Array.isArray(l)?J(l[0],h,"max",!!t.maxDate)&&J(l[1],h,"max",!!t.maxDate):J(l,h,"max",!!t.maxDate)},N=(l,h)=>{const g=t.minTime?K(t.minTime):b(t.minDate);return Array.isArray(l)?J(l[0],g,"min",!!t.minDate)&&J(l[1],g,"min",!!t.minDate)&&h:J(l,g,"min",!!t.minDate)&&h},A=l=>{let h=!0;if(!l||F())return!0;const g=!t.minDate&&!t.maxDate?te(l):l;return(t.maxTime||t.maxDate)&&(h=y(de(g))),(t.minTime||t.minDate)&&(h=N(de(g),h)),h},B=(l,h)=>{const g=b(JSON.parse(JSON.stringify(l))),w=[];for(let x=0;x<7;x++){const U=c.addDays(g,x),ne=c.getMonth(U)!==h;w.push({text:t.hideOffsetDates&&ne?"":U.getDate(),value:U,current:!ne,classData:{}})}return w},I=(l,h)=>{const g=[],w=b(D(new Date(h,l))),x=b(D(new Date(h,l+1,0))),U=c.startOfWeek(w,{weekStartsOn:t.weekStart}),ne=m=>{const o=B(m,l);if(g.push({days:o}),!g[g.length-1].days.some(Z=>le(De(Z.value),De(x)))){const Z=c.addDays(m,7);ne(Z)}};if(ne(U),t.sixWeeks&&g.length<6){const m=6-g.length;for(let o=1;o<=m;o++){const Z=g[g.length-1],se=Z.days[Z.days.length-1],ie=B(c.addDays(se.value,1),c.getMonth(w));g.push({days:ie})}}return g},H=(l,h,g)=>[c.set(b(l),{date:1}),c.set(b(),{month:h,year:g,date:1})],G=(l,h)=>ye(...H(t.minDate,l,h))||le(...H(t.minDate,l,h)),C=(l,h)=>he(...H(t.maxDate,l,h))||le(...H(t.maxDate,l,h)),_=(l,h,g)=>{let w=!1;return t.maxDate&&g&&C(l,h)&&(w=!0),t.minDate&&!g&&G(l,h)&&(w=!0),w};return{checkPartialRangeValue:r,checkRangeEnabled:n,getZonedDate:D,getZonedToUtc:V,formatDate:k,getDefaultPattern:f,validateDate:O,getDefaultStartTime:d,isDisabled:M,isValidDate:Y,sanitizeDate:R,getWeekFromDate:q,matchDate:E,setDateMonthOrYear:v,isValidTime:A,getCalendarDays:I,validateMonthYearInRange:(l,h,g,w)=>{let x=!1;return w?t.minDate&&t.maxDate?x=_(l,h,g):(t.minDate&&G(l,h)||t.maxDate&&C(l,h))&&(x=!0):x=!0,x},validateMaxDate:C,validateMinDate:G,defaults:a,hideNavigationButtons:P}},ae=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),ot=e.ref(null),We=e.ref(!1),st=e.ref(!1),it=e.ref(!1),ct=e.ref(!1),pe=e.ref(0),fe=e.ref(0),Se=()=>{const t=e.computed(()=>We.value?[...ae.selectionGrid,ae.actionRow].filter(E=>E.length):st.value?[...ae.timePicker[0],...ae.timePicker[1],ct.value?[]:[ot.value],ae.actionRow].filter(E=>E.length):it.value?[...ae.monthPicker,ae.actionRow]:[ae.monthYear,...ae.calendar,ae.time,ae.actionRow].filter(E=>E.length)),r=E=>{pe.value=E?pe.value+1:pe.value-1;let v=null;t.value[fe.value]&&(v=t.value[fe.value][pe.value]),v||(pe.value=E?pe.value-1:pe.value+1)},a=E=>{if(fe.value===0&&!E||fe.value===t.value.length&&E)return;fe.value=E?fe.value+1:fe.value-1,t.value[fe.value]?t.value[fe.value]&&!t.value[fe.value][pe.value]&&pe.value!==0&&(pe.value=t.value[fe.value].length-1):fe.value=E?fe.value-1:fe.value+1},n=E=>{let v=null;t.value[fe.value]&&(v=t.value[fe.value][pe.value]),v?v.focus({preventScroll:!We.value}):pe.value=E?pe.value-1:pe.value+1},s=()=>{r(!0),n(!0)},f=()=>{r(!1),n(!1)},k=()=>{a(!1),n(!0)},D=()=>{a(!0),n(!0)},V=(E,v)=>{ae[v]=E},P=(E,v)=>{ae[v]=E},O=()=>{pe.value=0,fe.value=0};return{buildMatrix:V,buildMultiLevelMatrix:P,setTimePickerBackRef:E=>{ot.value=E},setSelectionGrid:E=>{We.value=E,O(),E||(ae.selectionGrid=[])},setTimePicker:(E,v=!1)=>{st.value=E,ct.value=v,O(),E||(ae.timePicker[0]=[],ae.timePicker[1]=[])},setTimePickerElements:(E,v=0)=>{ae.timePicker[v]=E},arrowRight:s,arrowLeft:f,arrowUp:k,arrowDown:D,clearArrowNav:()=>{ae.monthYear=[],ae.calendar=[],ae.time=[],ae.actionRow=[],ae.selectionGrid=[],ae.timePicker[0]=[],ae.timePicker[1]=[],We.value=!1,st.value=!1,ct.value=!1,it.value=!1,O(),ot.value=null},setMonthPicker:E=>{it.value=E,O()},refSets:ae}},xt=t=>Array.isArray(t),Pe=t=>Array.isArray(t),zt=t=>Array.isArray(t)&&t.length===2,sr=(t,r,a,n,s)=>{const{getDefaultStartTime:f,isDisabled:k,sanitizeDate:D,getWeekFromDate:V,setDateMonthOrYear:P,validateMonthYearInRange:O,defaults:S}=ke(t),d=e.computed({get:()=>t.internalModelValue,set:i=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",i)}}),M=e.ref([]);e.watch(d,()=>{t.multiCalendars||J()});const Y=e.ref([{month:c.getMonth(b()),year:c.getYear(b())}]),R=e.reactive({hours:t.range?[c.getHours(b()),c.getHours(b())]:c.getHours(b()),minutes:t.range?[c.getMinutes(b()),c.getMinutes(b())]:c.getMinutes(b()),seconds:t.range?[0,0]:0}),q=e.computed(()=>i=>Y.value[i]?Y.value[i].month:0),E=e.computed(()=>i=>Y.value[i]?Y.value[i].year:0),v=e.computed(()=>t.flow&&t.flow.length?s.value===t.flow.length:!0),T=(i,$,z)=>{var X,p;Y.value[i]||(Y.value[i]={month:0,year:0}),Y.value[i].month=$===null?(X=Y.value[i])==null?void 0:X.month:$,Y.value[i].year=z===null?(p=Y.value[i])==null?void 0:p.year:z},K=(i,$)=>{R[i]=$};e.onMounted(()=>{d.value||(t.startDate&&(T(0,c.getMonth(b(t.startDate)),c.getYear(b(t.startDate))),S.value.multiCalendars&&Ve(0)),S.value.startTime&&C()),J(!0)});const J=(i=!1)=>{if(d.value)return Array.isArray(d.value)?(M.value=d.value,A(i)):te(d.value);if(t.timePicker)return B();if(t.monthPicker&&!t.range)return I();if(t.yearPicker&&!t.range)return H();if(S.value.multiCalendars&&i&&!t.startDate)return F(b(),i)},F=(i,$=!1)=>{if((!S.value.multiCalendars||!t.multiStatic||$)&&T(0,c.getMonth(i),c.getYear(i)),S.value.multiCalendars)for(let z=1;z<S.value.multiCalendars;z++){const X=c.set(b(),{month:q.value(z-1),year:E.value(z-1)}),p=c.add(X,{months:1});Y.value[z]={month:c.getMonth(p),year:c.getYear(p)}}},te=i=>{F(i),K("hours",c.getHours(i)),K("minutes",c.getMinutes(i)),K("seconds",c.getSeconds(i))},y=(i,$)=>{F(i[0],$);const z=(X,p)=>[X(i[0]),i[1]?X(i[1]):R[p][1]];K("hours",z(c.getHours,"hours")),K("minutes",z(c.getMinutes,"minutes")),K("seconds",z(c.getSeconds,"seconds"))},N=(i,$)=>{if((t.range||t.weekPicker)&&!t.multiDates)return y(i,$);if(t.multiDates){const z=i[i.length-1];return te(z)}},A=i=>{const $=d.value;N($,i),S.value.multiCalendars&&t.multiCalendarsSolo&&u()},B=()=>{if(C(),!t.range)d.value=we(b(),R.hours,R.minutes,G());else{const i=R.hours,$=R.minutes;d.value=[we(b(),i[0],$[0],G()),we(b(),i[1],$[1],G(!1))]}},I=()=>{d.value=P(b(),q.value(0),E.value(0))},H=()=>{d.value=b()},G=(i=!0)=>t.enableSeconds?Array.isArray(R.seconds)?i?R.seconds[0]:R.seconds[1]:R.seconds:0,C=()=>{const i=f();if(i){const $=Array.isArray(i),z=$?[+i[0].hours,+i[1].hours]:+i.hours,X=$?[+i[0].minutes,+i[1].minutes]:+i.minutes,p=$?[+i[0].seconds,+i[1].seconds]:+i.seconds;K("hours",z),K("minutes",X),t.enableSeconds&&K("seconds",p)}},_=()=>Array.isArray(d.value)&&d.value.length?d.value[d.value.length-1]:null,u=()=>{if(Array.isArray(d.value)&&d.value.length===2){const i=b(b(d.value[1]?d.value[1]:c.addMonths(d.value[0],1))),[$,z]=[c.getMonth(d.value[0]),c.getYear(d.value[0])],[X,p]=[c.getMonth(d.value[1]),c.getYear(d.value[1])];($!==X||$===X&&z!==p)&&t.multiCalendarsSolo&&T(1,c.getMonth(i),c.getYear(i))}},l=i=>{const $=c.addMonths(i,1);return{month:c.getMonth($),year:c.getYear($)}},h=i=>{const $=c.getMonth(b(i)),z=c.getYear(b(i));if(T(0,$,z),S.value.multiCalendars>0)for(let X=1;X<S.value.multiCalendars;X++){const p=l(c.set(b(i),{year:q.value(X-1),month:E.value(X-1)}));T(X,p.month,p.year)}},g=i=>{if(d.value&&Array.isArray(d.value))if(d.value.some($=>le(i,$))){const $=d.value.filter(z=>!le(z,i));d.value=$.length?$:null}else(t.multiDatesLimit&&+t.multiDatesLimit>d.value.length||!t.multiDatesLimit)&&d.value.push(i);else d.value=[i]},w=(i,$)=>{const z=he(i,$)?$:i,X=he($,i)?$:i;return c.eachDayOfInterval({start:z,end:X})},x=i=>{if(Array.isArray(d.value)&&d.value[0]){const $=c.differenceInCalendarDays(i,d.value[0]),z=w(d.value[0],i),X=z.length===1?0:z.filter(L=>k(L)).length,p=Math.abs($)-X;if(t.minRange&&t.maxRange)return p>=+t.minRange&&p<=+t.maxRange;if(t.minRange)return p>=+t.minRange;if(t.maxRange)return p<=+t.maxRange}return!0},U=i=>Array.isArray(d.value)&&d.value.length===2?t.fixedStart&&(he(i,d.value[0])||le(i,d.value[0]))?[d.value[0],i]:t.fixedEnd&&(ye(i,d.value[1])||le(i,d.value[1]))?[i,d.value[1]]:(r("invalid-fixed-range",i),d.value):[],ne=()=>{t.autoApply&&v.value&&r("auto-apply")},m=()=>{t.autoApply&&r("select-date")},o=i=>!c.eachDayOfInterval({start:i[0],end:i[1]}).some(z=>k(z)),Z=i=>(d.value=V(b(i.value)),ne()),se=i=>{const $=we(b(i.value),R.hours,R.minutes,G());t.multiDates?g($):d.value=$,a(),ne()},ie=()=>{M.value=d.value?d.value.slice():[],M.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(M.value=[])},Me=(i,$)=>{const z=[b(i.value),c.addDays(b(i.value),+t.autoRange)];o(z)&&($&&h(i.value),M.value=z)},Be=i=>{Q(i.value)||(M.value=U(b(i.value)))},Q=i=>t.noDisabledRange?w(M.value[0],i).some(z=>k(z)):!1,_e=(i,$)=>{if(ie(),t.autoRange)return Me(i,$);if(t.fixedStart||t.fixedEnd)return Be(i);M.value[0]?x(b(i.value))&&!Q(i.value)&&(ye(b(i.value),b(M.value[0]))?M.value.unshift(b(i.value)):M.value[1]=b(i.value)):M.value[0]=b(i.value)},Ce=i=>{M.value[i]=we(M.value[i],R.hours[i],R.minutes[i],G(i!==1))},W=()=>{M.value.length&&(M.value[0]&&!M.value[1]?Ce(0):(Ce(0),Ce(1),a()),d.value=M.value.slice(),M.value[0]&&M.value[1]&&t.autoApply&&r("auto-apply"),M.value[0]&&!M.value[1]&&t.modelAuto&&t.autoApply&&r("auto-apply"))},oe=(i,$=!1)=>{if(!(k(i.value)||!i.current&&t.hideOffsetDates)){if(t.weekPicker)return Z(i);if(!t.range)return se(i);Pe(R.hours)&&Pe(R.minutes)&&!t.multiDates&&(_e(i,$),W())}},re=i=>{const $=i[0];return t.weekNumbers==="local"?c.getWeek($.value,{weekStartsOn:+t.weekStart}):t.weekNumbers==="iso"?c.getISOWeek($.value):typeof t.weekNumbers=="function"?t.weekNumbers($.value):""},Ve=i=>{for(let $=i-1;$>=0;$--){const z=c.subMonths(c.set(b(),{month:q.value($+1),year:E.value($+1)}),1);T($,c.getMonth(z),c.getYear(z))}for(let $=i+1;$<=S.value.multiCalendars-1;$++){const z=c.addMonths(c.set(b(),{month:q.value($-1),year:E.value($-1)}),1);T($,c.getMonth(z),c.getYear(z))}},be=i=>P(b(),q.value(i),E.value(i)),Oe=i=>we(i,R.hours,R.minutes,G()),mt=(i,$)=>{const z=t.monthPicker?q.value(i)!==$.month||!$.fromNav:E.value(i)!==$.year;if(T(i,$.month,$.year),S.value.multiCalendars&&!t.multiCalendarsSolo&&Ve(i),t.monthPicker||t.yearPicker)if(t.range){if(z){let X=d.value?d.value.slice():[];X.length===2&&X[1]!==null&&(X=[]),X.length?ye(be(i),X[0])?X.unshift(be(i)):X[1]=be(i):X=[be(i)],d.value=X}}else d.value=be(i);r("update-month-year",{instance:i,month:$.month,year:$.year}),n(t.multiCalendarsSolo?i:void 0)},yt=async(i=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await e.nextTick();const $=t.monthPicker?i:!1;t.range?r("auto-apply",$||!d.value||d.value.length===1):r("auto-apply",$)}a()},Ze=(i,$)=>{const z=c.set(b(),{month:q.value($),year:E.value($)}),X=i<0?c.addMonths(z,1):c.subMonths(z,1);O(c.getMonth(X),c.getYear(X),i<0,t.preventMinMaxNavigation)&&(T($,c.getMonth(X),c.getYear(X)),S.value.multiCalendars&&!t.multiCalendarsSolo&&Ve($),r("update-month-year",{instance:$,month:c.getMonth(X),year:c.getYear(X)}),n())},Ye=i=>{xt(i)&&xt(d.value)&&Pe(R.hours)&&Pe(R.minutes)?(i[0]&&d.value[0]&&(d.value[0]=we(i[0],R.hours[0],R.minutes[0],G())),i[1]&&d.value[1]&&(d.value[1]=we(i[1],R.hours[1],R.minutes[1],G(!1)))):t.multiDates&&Array.isArray(d.value)?d.value[d.value.length-1]=Oe(i):!t.range&&!zt(i)&&(d.value=Oe(i)),r("time-update")},ht=(i,$=!0,z=!1)=>{const X=$?i:R.hours,p=!$&&!z?i:R.minutes,L=z?i:R.seconds;if(t.range&&zt(d.value)&&Pe(X)&&Pe(p)&&Pe(L)&&!t.disableTimeRangeValidation){const ce=$e=>we(d.value[$e],X[$e],p[$e],L[$e]),me=$e=>c.setMilliseconds(d.value[$e],0);if(le(d.value[0],d.value[1])&&(c.isAfter(ce(0),me(1))||c.isBefore(ce(1),me(0))))return}if(K("hours",X),K("minutes",p),K("seconds",L),d.value)if(t.multiDates){const ce=_();ce&&Ye(ce)}else Ye(d.value);else t.timePicker&&Ye(t.range?[b(),b()]:b());a()},gt=(i,$)=>{t.monthChangeOnScroll&&Ze(t.monthChangeOnScroll!=="inverse"?-i.deltaY:i.deltaY,$)},pt=(i,$,z=!1)=>{t.monthChangeOnArrows&&t.vertical===z&&qe(i,$)},qe=(i,$)=>{Ze(i==="right"?-1:1,$)};return{time:R,month:q,year:E,modelValue:d,calendars:Y,monthYearSelect:yt,isDisabled:k,updateTime:ht,getWeekNum:re,selectDate:oe,updateMonthYear:mt,handleScroll:gt,getMarker:i=>t.markers.find($=>le(D(i.value),D($.date))),handleArrow:pt,handleSwipe:qe,selectCurrentDate:()=>{t.range?d.value&&Array.isArray(d.value)&&d.value[0]?d.value=ye(b(),d.value[0])?[b(),d.value[0]]:[d.value[0],b()]:d.value=[b()]:d.value=b(),m()},presetDateRange:(i,$)=>{$||i.length&&i.length<=2&&t.range&&(d.value=i.map(z=>b(z)),m(),t.multiCalendars&&e.nextTick().then(()=>J(!0)))}}},ir=(t,r,a)=>{const n=e.ref(),{getZonedToUtc:s,getZonedDate:f,formatDate:k,getDefaultPattern:D,checkRangeEnabled:V,checkPartialRangeValue:P,isValidDate:O,setDateMonthOrYear:S,defaults:d}=ke(r),M=e.ref(""),Y=e.toRef(r,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(Y,()=>{l()});const R=o=>{const Z=o||b();return r.modelType?g(Z):{hours:c.getHours(Z),minutes:c.getMinutes(Z),seconds:r.enableSeconds?c.getSeconds(Z):0}},q=o=>r.modelType?g(o):{month:c.getMonth(o),year:c.getYear(o)},E=o=>Array.isArray(o)?V(()=>[c.setYear(b(),o[0]),o[1]?c.setYear(b(),o[1]):P()]):c.setYear(b(),+o),v=(o,Z)=>(typeof o=="string"||typeof o=="number")&&r.modelType?h(o):Z,T=o=>Array.isArray(o)?[v(o[0],we(null,+o[0].hours,+o[0].minutes,o[0].seconds)),v(o[1],we(null,+o[1].hours,+o[1].minutes,o[1].seconds))]:v(o,we(null,o.hours,o.minutes,o.seconds)),K=o=>Array.isArray(o)?V(()=>[v(o[0],S(null,+o[0].month,+o[0].year)),v(o[1],o[1]?S(null,+o[1].month,+o[1].year):P())]):v(o,S(null,+o.month,+o.year)),J=o=>{if(Array.isArray(o))return o.map(Z=>h(Z));throw new Error(He.dateArr("multi-dates"))},F=o=>{if(Array.isArray(o))return[b(o[0]),b(o[1])];throw new Error(He.dateArr("week-picker"))},te=o=>r.modelAuto?Array.isArray(o)?[h(o[0]),h(o[1])]:r.autoApply?[h(o)]:[h(o),null]:Array.isArray(o)?V(()=>[h(o[0]),o[1]?h(o[1]):P()]):h(o),y=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push(P())},N=()=>{const o=n.value;return[g(o[0]),o[1]?g(o[1]):P()]},A=()=>n.value[1]?N():g(de(n.value[0])),B=()=>(n.value||[]).map(o=>g(o)),I=()=>(y(),r.modelAuto?A():r.multiDates?B():Array.isArray(n.value)?V(()=>N()):g(de(n.value))),H=o=>o?r.timePicker?T(de(o)):r.monthPicker?K(de(o)):r.yearPicker?E(de(o)):r.multiDates?J(de(o)):r.weekPicker?F(de(o)):te(de(o)):null,G=o=>{const Z=H(o);O(de(Z))?(n.value=de(Z),l()):(n.value=null,M.value="")},C=()=>{var Z;const o=se=>{var ie;return c.format(se,(ie=d.value.textInputOptions)==null?void 0:ie.format)};return`${o(n.value[0])} ${(Z=d.value.textInputOptions)==null?void 0:Z.rangeSeparator} ${n.value[1]?o(n.value[1]):""}`},_=()=>{var o;return a.value&&n.value?Array.isArray(n.value)?C():c.format(n.value,(o=d.value.textInputOptions)==null?void 0:o.format):k(n.value)},u=()=>{var o;return n.value?r.multiDates?n.value.map(Z=>k(Z)).join("; "):r.textInput&&typeof((o=d.value.textInputOptions)==null?void 0:o.format)=="string"?_():k(n.value):""},l=()=>{!r.format||typeof r.format=="string"?M.value=u():M.value=r.format(n.value)},h=o=>{if(r.utc){const Z=new Date(o);return r.utc==="preserve"?new Date(Z.getTime()+Z.getTimezoneOffset()*6e4):Z}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?f(new Date(o)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?c.parse(o,D(),new Date):f(c.parse(o,r.modelType,new Date)):f(new Date(o))},g=o=>r.utc?Dn(o,r.utc==="preserve"):r.modelType?r.modelType==="timestamp"?+s(o):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?k(s(o)):k(s(o),r.modelType):s(o),w=o=>{t("update:model-value",o)},x=o=>Array.isArray(n.value)?[o(n.value[0]),n.value[1]?o(n.value[1]):P()]:o(de(n.value)),U=o=>w(de(x(o)));return{inputValue:M,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:G,formatInputValue:l,emitModelValue:()=>(l(),r.monthPicker?U(q):r.timePicker?U(R):r.yearPicker?U(c.getYear):r.weekPicker?w(n.value):w(I()))}},cr=(t,r)=>{const{validateMonthYearInRange:a,validateMaxDate:n,validateMinDate:s,defaults:f}=ke(t),k=(S,d)=>{let M=S;return f.value.filters.months.includes(c.getMonth(M))?(M=d?c.addMonths(S,1):c.subMonths(S,1),k(M,d)):M},D=(S,d)=>{let M=S;return f.value.filters.years.includes(c.getYear(M))?(M=d?c.addYears(S,1):c.subYears(S,1),D(M,d)):M},V=S=>{const d=c.set(new Date,{month:t.month,year:t.year});let M=S?c.addMonths(d,1):c.subMonths(d,1),Y=c.getMonth(M),R=c.getYear(M);f.value.filters.months.includes(Y)&&(M=k(M,S),Y=c.getMonth(M),R=c.getYear(M)),f.value.filters.years.includes(R)&&(M=D(M,S),R=c.getYear(M)),a(Y,R,S,t.preventMinMaxNavigation)&&P(Y,R)},P=(S,d)=>{r("update-month-year",{month:S,year:d})},O=e.computed(()=>S=>{if(!t.preventMinMaxNavigation||S&&!t.maxDate||!S&&!t.minDate)return!1;const d=c.set(new Date,{month:t.month,year:t.year}),M=S?c.addMonths(d,1):c.subMonths(d,1),Y=[c.getMonth(M),c.getYear(M)];return S?!n(...Y):!s(...Y)});return{handleMonthYearChange:V,isDisabled:O,updateMonthYear:P}};var je=(t=>(t.center="center",t.left="left",t.right="right",t))(je||{});const ur=(t,r,a,n)=>{const s=e.ref({top:"0",left:"0",transform:"none"}),f=e.ref(!1),k=e.toRef(n,"teleportCenter");e.watch(k,()=>{R()});const D=()=>({top:0,left:0}),V=(y,N)=>{s.value.left=`${y+N}px`,s.value.transform="translateX(-100%)"},P=y=>{s.value.left=`${y}px`,s.value.transform="translateX(0)"},O=(y,N,A=!1)=>{n.position===je.left&&P(y),n.position===je.right&&V(y,N),n.position===je.center&&(s.value.left=`${y+N/2}px`,s.value.transform=A?"translate(-50%, -50%)":"translateX(-50%)")},S=y=>{const{width:N,height:A}=y.getBoundingClientRect(),{top:B,left:I}=n.altPosition?n.altPosition(y):D();return{top:+B,left:+I,width:N,height:A}},d=()=>{const y=ue(r);if(y){const{top:N,left:A,width:B,height:I}=S(y);s.value.top=`${N+I/2}px`,s.value.transform="translateY(-50%)",O(A,B,!0)}},M=()=>{s.value.left="50%",s.value.top="50%",s.value.transform="translate(-50%, -50%)",s.value.position="fixed"},Y=()=>{const y=ue(r),{top:N,left:A,transform:B}=n.altPosition(y);s.value={top:`${N}px`,left:`${A}px`,transform:B||""}},R=(y=!0)=>{if(!n.inline)return k.value?M():n.altPosition!==null?Y():(y&&a("recalculate-position"),J())},q=({inputEl:y,menuEl:N,left:A,width:B})=>{window.screen.width>768&&O(A,B),T(y,N)},E=(y,N)=>{const{top:A,left:B,height:I,width:H}=S(y);s.value.top=`${I+A+ +n.offset}px`,q({inputEl:y,menuEl:N,left:B,width:H}),f.value=!1},v=(y,N)=>{const{top:A,left:B,width:I}=S(y),{height:H}=N.getBoundingClientRect();s.value.top=`${A-H-+n.offset}px`,q({inputEl:y,menuEl:N,left:B,width:I}),f.value=!0},T=(y,N)=>{if(n.autoPosition){const{left:A,width:B}=S(y),{left:I,right:H}=N.getBoundingClientRect();return I<=0||I<=A?P(A):H>=document.documentElement.clientWidth?V(A,B):O(A,B)}},K=(y,N)=>{const{height:A}=N.getBoundingClientRect(),{top:B,height:I}=y.getBoundingClientRect(),G=window.innerHeight-B-I,C=B;return A<=G?E(y,N):A>G&&A<=C?v(y,N):G>=C?E(y,N):v(y,N)},J=()=>{const y=ue(r),N=ue(t);if(y&&N)return n.autoPosition?K(y,N):E(y,N)},F=function(y){if(y){const N=y.scrollHeight>y.clientHeight,B=window.getComputedStyle(y).overflowY.indexOf("hidden")!==-1;return N&&!B}return!0},te=function(y){return!y||y===document.body?window:F(y)?y:te(y.parentNode)};return{openOnTop:f,menuPosition:s,setMenuPosition:R,setInitialPosition:d,getScrollableParent:te}},Ee=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]}],dr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],fr={all:()=>Ee,monthYear:()=>Ee.filter(t=>t.use.includes("month-year")),input:()=>dr,timePicker:()=>Ee.filter(t=>t.use.includes("time")),action:()=>Ee.filter(t=>t.use.includes("action")),calendar:()=>Ee.filter(t=>t.use.includes("calendar")),menu:()=>Ee.filter(t=>t.use.includes("menu"))},Ae=(t,r,a)=>{const n=[];return fr[r]().forEach(s=>{t[s.name]&&n.push(s.name)}),a&&a.length&&a.forEach(s=>{s.slot&&n.push(s.slot)}),n},Ge=t=>({transitionName:e.computed(()=>a=>t&&typeof t!="boolean"?a?t.open:t.close:""),showTransition:!!t}),Ne={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:Boolean,default:!1}},mr=["aria-label","aria-disabled","aria-readonly"],yr={key:1,class:"dp__input_wrap"},hr=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],gr={key:2,class:"dp__input_icon"},pr={key:4,class:"dp__clear_icon"},kr=e.defineComponent({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Ne},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur"],setup(t,{expose:r,emit:a}){const n=t,{getDefaultPattern:s,isValidDate:f,defaults:k}=ke(n),D=e.ref(),V=e.ref(null),P=e.ref(!1),O=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:P.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),S=()=>{a("set-input-date",null),n.autoApply&&(a("set-empty-date"),D.value=null)},d=y=>{var N;return $n(y,((N=k.value.textInputOptions)==null?void 0:N.format)||s())},M=y=>{const{rangeSeparator:N}=k.value.textInputOptions,[A,B]=y.split(`${N}`);if(A){const I=d(A.trim()),H=B?d(B.trim()):null,G=I&&H?[I,H]:[I];D.value=I?G:null}},Y=y=>{if(n.range)M(y);else if(n.multiDates){const N=y.split(";");D.value=N.map(A=>d(A.trim())).filter(A=>A)}else D.value=d(y)},R=y=>{var A;const{value:N}=y.target;N!==""?((A=k.value.textInputOptions)!=null&&A.openMenu&&!n.isMenuOpen&&a("open"),Y(N),a("set-input-date",D.value)):S(),a("update:input-value",N)},q=()=>{var y,N;(y=k.value.textInputOptions)!=null&&y.enterSubmit&&f(D.value)&&n.inputValue!==""?(a("set-input-date",D.value,!0),D.value=null):(N=k.value.textInputOptions)!=null&&N.enterSubmit&&n.inputValue===""&&(D.value=null,a("clear"))},E=()=>{var y,N;(y=k.value.textInputOptions)!=null&&y.tabSubmit&&f(D.value)&&n.inputValue!==""?(a("set-input-date",D.value,!0),D.value=null):(N=k.value.textInputOptions)!=null&&N.tabSubmit&&n.inputValue===""&&(D.value=null,a("clear"))},v=()=>{P.value=!0,a("focus")},T=y=>{var N;y.preventDefault(),y.stopImmediatePropagation(),y.stopPropagation(),n.textInput&&((N=k.value.textInputOptions)!=null&&N.openMenu)&&!n.inlineWithInput?n.isMenuOpen?k.value.textInputOptions.enterSubmit&&a("select-date"):a("open"):n.textInput||a("toggle")},K=()=>{P.value=!1,n.isMenuOpen||a("blur"),n.autoApply&&n.textInput&&D.value&&(a("set-input-date",D.value),a("select-date"),D.value=null)},J=()=>{a("clear")},F=y=>{n.textInput||y.preventDefault()};return r({focusInput:()=>{V.value&&V.value.focus({preventScroll:!0})}}),(y,N)=>{var A;return e.openBlock(),e.createElementBlock("div",{onClick:T,"aria-label":(A=e.unref(k).ariaLabels)==null?void 0:A.input,role:"textbox","aria-multiline":"false","aria-disabled":y.disabled,"aria-readonly":y.readonly},[y.$slots.trigger&&!y.$slots["dp-input"]&&!y.inline?e.renderSlot(y.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!y.$slots.trigger&&(!y.inline||y.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",yr,[y.$slots["dp-input"]&&!y.$slots.trigger&&!y.inline?e.renderSlot(y.$slots,"dp-input",{key:0,value:t.inputValue,onInput:R,onEnter:q,onTab:E,onClear:J}):e.createCommentVNode("",!0),y.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:V,id:y.uid?`dp-input-${y.uid}`:void 0,name:y.name,class:e.normalizeClass(e.unref(O)),inputmode:y.textInput?"text":"none",placeholder:y.placeholder,disabled:y.disabled,readonly:y.readonly,required:y.required,value:t.inputValue,autocomplete:y.autocomplete,onInput:R,onKeydown:[e.withKeys(T,["enter"]),e.withKeys(E,["tab"])],onBlur:K,onFocus:v,onKeypress:F},null,42,hr)),y.$slots["input-icon"]&&!y.hideInputIcon?(e.openBlock(),e.createElementBlock("span",gr,[e.renderSlot(y.$slots,"input-icon")])):e.createCommentVNode("",!0),!y.$slots["input-icon"]&&!y.hideInputIcon&&!y.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Le),{key:3,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0),y.$slots["clear-icon"]&&t.inputValue&&y.clearable&&!y.disabled&&!y.readonly?(e.openBlock(),e.createElementBlock("span",pr,[e.renderSlot(y.$slots,"clear-icon",{clear:J})])):e.createCommentVNode("",!0),y.clearable&&!y.$slots["clear-icon"]&&t.inputValue&&!y.disabled&&!y.readonly?(e.openBlock(),e.createBlock(e.unref(Ft),{key:5,class:"dp__clear_icon dp__input_icons","data-test":"clear-icon",onClick:e.withModifiers(J,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],8,mr)}}}),wr={class:"dp__selection_preview"},br={class:"dp__action_buttons"},$r=["onKeydown"],Dr=e.defineComponent({__name:"ActionRow",props:{calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Ne},emits:["close-picker","select-date","invalid-select"],setup(t,{emit:r}){const a=t,{formatDate:n,isValidTime:s,defaults:f}=ke(a),{buildMatrix:k}=Se(),D=e.ref(null),V=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&k([ue(D),ue(V)],"actionRow")});const P=e.computed(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),O=e.computed(()=>!d.value||!M.value||!P.value),S=e.computed(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:O.value})),d=e.computed(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:s(a.internalModelValue)),M=e.computed(()=>a.monthPicker?E(a.internalModelValue):!0),Y=()=>{const T=f.value.previewFormat;return a.timePicker||a.monthPicker,T(de(a.internalModelValue))},R=()=>{const T=a.internalModelValue;return f.value.multiCalendars>0?`${n(T[0])} - ${n(T[1])}`:[n(T[0]),n(T[1])]},q=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof f.value.previewFormat=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?R():a.multiDates?a.internalModelValue.map(T=>`${n(T)}`):a.modelAuto?`${n(a.internalModelValue[0])}`:`${n(a.internalModelValue[0])} -`:n(a.internalModelValue):Y()),E=T=>{if(!a.monthPicker)return!0;let K=!0;return a.minDate&&a.maxDate?he(b(T),b(a.minDate))&&ye(b(T),b(a.maxDate)):(a.minDate&&(K=he(b(T),b(a.minDate))),a.maxDate&&(K=ye(b(T),b(a.maxDate))),K)},v=()=>{d.value&&M.value&&P.value?r("select-date"):r("invalid-select")};return(T,K)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[T.$slots["action-row"]?e.renderSlot(T.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:t.internalModelValue,disabled:e.unref(O),selectDate:()=>T.$emit("select-date"),closePicker:()=>T.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",wr,[T.$slots["action-preview"]?e.renderSlot(T.$slots,"action-preview",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),T.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Array.isArray(e.unref(q))?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(q)),1)],64)),Array.isArray(e.unref(q))?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(q),(J,F)=>(e.openBlock(),e.createElementBlock("div",{key:F},e.toDisplayString(J),1))),128)):e.createCommentVNode("",!0)],64))]),e.createElementVNode("div",br,[T.$slots["action-select"]?e.renderSlot(T.$slots,"action-select",{key:0,value:t.internalModelValue}):e.createCommentVNode("",!0),T.$slots["action-select"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[T.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:D,tabindex:"0",onClick:K[0]||(K[0]=J=>T.$emit("close-picker")),onKeydown:[K[1]||(K[1]=e.withKeys(J=>T.$emit("close-picker"),["enter"])),K[2]||(K[2]=e.withKeys(J=>T.$emit("close-picker"),["space"]))]},e.toDisplayString(T.cancelText),545)),e.createElementVNode("span",{class:e.normalizeClass(e.unref(S)),tabindex:"0",onKeydown:[e.withKeys(v,["enter"]),e.withKeys(v,["space"])],onClick:v,"data-test":"select-button",ref_key:"selectButtonRef",ref:V},e.toDisplayString(T.selectText),43,$r)],64))])],64))],4))}}),Mr=["aria-label"],Cr={class:"dp__calendar_header",role:"row"},Br={key:0,class:"dp__calendar_header_item",role:"gridcell"},Sr=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Nr=["aria-label"],_r={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Tr={class:"dp__cell_inner"},Pr=["aria-selected","aria-disabled","aria-label","data-test","onClick","onKeydown","onMouseenter","onMouseleave"],Ar=e.createElementVNode("div",{class:"dp__arrow_bottom_tp"},null,-1),Vr=e.defineComponent({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ne},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{buildMultiLevelMatrix:s}=Se(),{setDateMonthOrYear:f,defaults:k}=ke(n),D=e.ref(null),V=e.ref({bottom:"",left:"",transform:""}),P=e.ref([]),O=e.ref(null),S=e.ref(!0),d=e.ref(""),M=e.ref({startX:0,endX:0,startY:0,endY:0}),Y=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):Xn(n.locale,+n.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:P}),n.noSwipe||O.value&&(O.value.addEventListener("touchstart",N,{passive:!1}),O.value.addEventListener("touchend",A,{passive:!1}),O.value.addEventListener("touchmove",B,{passive:!1})),n.monthChangeOnScroll&&O.value&&O.value.addEventListener("wheel",G,{passive:!1})});const R=C=>C?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",q=(C,_)=>{if(n.transitions){const u=De(f(b(),n.month,n.year));d.value=he(De(f(b(),C,_)),u)?k.value.transitions[R(!0)]:k.value.transitions[R(!1)],S.value=!1,e.nextTick(()=>{S.value=!0})}},E=e.computed(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),v=e.computed(()=>C=>{const _=er(C);return{dp__marker_dot:_.type==="dot",dp__marker_line:_.type==="line"}}),T=e.computed(()=>C=>le(C,D.value)),K=e.computed(()=>({dp__calendar:!0,dp__calendar_next:k.value.multiCalendars>0&&n.instance!==0})),J=e.computed(()=>C=>n.hideOffsetDates?C.current:!0),F=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:void 0),te=(C,_,u)=>{var l,h;if(a("set-hover-date",C),(h=(l=C.marker)==null?void 0:l.tooltip)!=null&&h.length){const g=ue(P.value[_][u]);if(g){const{width:w,height:x}=g.getBoundingClientRect();V.value={bottom:`${x}px`,left:`${w/2}px`,transform:"translateX(-50%)"},D.value=C.value,a("tooltip-open",C.marker)}}},y=C=>{D.value&&(D.value=null,a("tooltip-close",C.marker))},N=C=>{M.value.startX=C.changedTouches[0].screenX,M.value.startY=C.changedTouches[0].screenY},A=C=>{M.value.endX=C.changedTouches[0].screenX,M.value.endY=C.changedTouches[0].screenY,I()},B=C=>{n.vertical&&!n.inline&&C.preventDefault()},I=()=>{const C=n.vertical?"Y":"X";Math.abs(M.value[`start${C}`]-M.value[`end${C}`])>10&&a("handle-swipe",M.value[`start${C}`]>M.value[`end${C}`]?"right":"left")},H=(C,_,u)=>{C&&(Array.isArray(P.value[_])?P.value[_][u]=C:P.value[_]=[C]),n.arrowNavigation&&s(P.value,"calendar")},G=C=>{n.monthChangeOnScroll&&(C.preventDefault(),a("handle-scroll",C))};return r({triggerTransition:q}),(C,_)=>{var u;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(K))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref(F))},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"calendarWrapRef",ref:O,class:e.normalizeClass(e.unref(E)),role:"grid","aria-label":(u=e.unref(k).ariaLabels)==null?void 0:u.calendarWrap},[e.createElementVNode("div",Cr,[C.weekNumbers?(e.openBlock(),e.createElementBlock("div",Br,e.toDisplayString(C.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(Y),(l,h)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:h,"data-test":"calendar-header"},[C.$slots["calendar-header"]?e.renderSlot(C.$slots,"calendar-header",{key:0,day:l,index:h}):e.createCommentVNode("",!0),C.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(l),1)],64))]))),128))]),Sr,e.createVNode(e.Transition,{name:d.value,css:!!C.transitions},{default:e.withCtx(()=>{var l;return[S.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(l=e.unref(k).ariaLabels)==null?void 0:l.calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(h,g)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:g},[C.weekNumbers?(e.openBlock(),e.createElementBlock("div",_r,[e.createElementVNode("div",Tr,e.toDisplayString(t.getWeekNum(h.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.days,(w,x)=>{var U,ne,m;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:o=>H(o,g,x),key:x+g,"aria-selected":w.classData.dp__active_date||w.classData.dp__range_start||w.classData.dp__range_start,"aria-disabled":w.classData.dp__cell_disabled,"aria-label":(ne=(U=e.unref(k).ariaLabels)==null?void 0:U.day)==null?void 0:ne.call(U,w),tabindex:"0","data-test":w.value,onClick:e.withModifiers(o=>C.$emit("select-date",w),["stop","prevent"]),onKeydown:[e.withKeys(o=>C.$emit("select-date",w),["enter"]),e.withKeys(o=>C.$emit("handle-space",w),["space"])],onMouseenter:o=>te(w,g,x),onMouseleave:o=>y(w)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",w.classData])},[C.$slots.day&&e.unref(J)(w)?e.renderSlot(C.$slots,"day",{key:0,day:+w.text,date:w.value}):e.createCommentVNode("",!0),C.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(w.text),1)],64)),w.marker&&e.unref(J)(w)?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(v)(w.marker)),style:e.normalizeStyle(w.marker.color?{backgroundColor:w.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(T)(w.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",style:e.normalizeStyle(V.value)},[(m=w.marker)!=null&&m.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:_[0]||(_[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(w.marker.tooltip,(o,Z)=>(e.openBlock(),e.createElementBlock("div",{key:Z,class:"dp__tooltip_text"},[C.$slots["marker-tooltip"]?e.renderSlot(C.$slots,"marker-tooltip",{key:0,tooltip:o,day:w.value}):e.createCommentVNode("",!0),C.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(o.color?{backgroundColor:o.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(o.text),1)],64))]))),128)),Ar])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,Pr)}),128))]))),128))],8,Nr)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,Mr))],4)],2)}}}),Er=["aria-label","aria-disabled"],ut=e.defineComponent({__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","set-ref"],setup(t,{emit:r}){const a=e.ref(null);return e.onMounted(()=>r("set-ref",a)),(n,s)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__month_year_col_nav",onClick:s[0]||(s[0]=f=>n.$emit("activate")),onKeydown:[s[1]||(s[1]=e.withKeys(f=>n.$emit("activate"),["enter"])),s[2]||(s[2]=e.withKeys(f=>n.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:a},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,Er))}}),Rr=["onKeydown"],vr={class:"dp__selection_grid_header"},Ir=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],Or=["aria-label","onKeydown"],Ie=e.defineComponent({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","selected","toggle","reset-flow"],setup(t,{expose:r,emit:a}){const n=t,{setSelectionGrid:s,buildMultiLevelMatrix:f,setMonthPicker:k}=Se(),{hideNavigationButtons:D}=ke(n),V=e.ref(!1),P=e.ref(null),O=e.ref(null),S=e.ref([]),d=e.ref(),M=e.ref(null),Y=e.ref(0),R=e.ref(null);e.onBeforeUpdate(()=>{P.value=null}),e.onMounted(()=>{e.nextTick().then(()=>N()),E(),q(!0)}),e.onUnmounted(()=>q(!1));const q=_=>{var u;n.arrowNavigation&&((u=n.headerRefs)!=null&&u.length?k(_):s(_))},E=()=>{const _=ue(O);_&&(n.textInput||_.focus({preventScroll:!0}),V.value=_.clientHeight<_.scrollHeight)},v=e.computed(()=>({dp__overlay:!0})),T=e.computed(()=>({dp__overlay_col:!0})),K=_=>n.skipActive?!1:_.value===n.modelValue,J=e.computed(()=>n.items.map(_=>_.filter(u=>u).map(u=>{var g,w,x;const l=n.disabledValues.some(U=>U===u.value)||y(u.value),h=(g=n.multiModelValue)!=null&&g.length?(w=n.multiModelValue)==null?void 0:w.some(U=>le(U,c.setYear(n.monthPicker?c.setMonth(new Date,u.value):new Date,n.monthPicker?n.year:u.value))):K(u);return{...u,className:{dp__overlay_cell_active:h,dp__overlay_cell:!h,dp__overlay_cell_disabled:l,dp__overlay_cell_active_disabled:l&&h,dp__overlay_cell_pad:!0,dp__cell_in_between:(x=n.multiModelValue)!=null&&x.length?B(u.value):!1}}}))),F=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:V.value,dp__button_bottom:n.autoApply})),te=e.computed(()=>{var _,u;return{dp__overlay_container:!0,dp__container_flex:((_=n.items)==null?void 0:_.length)<=6,dp__container_block:((u=n.items)==null?void 0:u.length)>6}}),y=_=>{const u=n.maxValue||n.maxValue===0,l=n.minValue||n.minValue===0;return!u&&!l?!1:u&&l?+_>+n.maxValue||+_<+n.minValue:u?+_>+n.maxValue:l?+_<+n.minValue:!1},N=()=>{const _=ue(P),u=ue(O),l=ue(M),h=ue(R),g=l?l.getBoundingClientRect().height:0;u&&(Y.value=u.getBoundingClientRect().height-g),_&&h&&(h.scrollTop=_.offsetTop-h.offsetTop-(Y.value/2-_.getBoundingClientRect().height)-g)},A=_=>{!n.disabledValues.some(u=>u===_)&&!y(_)&&(a("update:model-value",_),a("selected"))},B=_=>{const u=n.monthPicker?n.year:_;return Bt(n.multiModelValue,c.setYear(n.monthPicker?c.setMonth(new Date,d.value||0):new Date,n.monthPicker?u:d.value||u),c.setYear(n.monthPicker?c.setMonth(new Date,_):new Date,u))},I=()=>{a("toggle"),a("reset-flow")},H=()=>{n.escClose&&I()},G=(_,u,l,h)=>{_&&(u.value===+n.modelValue&&!n.disabledValues.includes(u.value)&&(P.value=_),n.arrowNavigation&&(Array.isArray(S.value[l])?S.value[l][h]=_:S.value[l]=[_],C()))},C=()=>{var u,l;const _=(u=n.headerRefs)!=null&&u.length?[n.headerRefs].concat(S.value):S.value.concat([n.skipButtonRef?[]:[M.value]]);f(de(_),(l=n.headerRefs)!=null&&l.length?"monthPicker":"selectionGrid")};return r({focusGrid:E}),(_,u)=>{var l;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:O,class:e.normalizeClass(e.unref(v)),role:"dialog",tabindex:"0",onKeydown:e.withKeys(H,["esc"])},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(te)),ref_key:"containerRef",ref:R,role:"grid",style:e.normalizeStyle({height:`${Y.value}px`})},[e.createElementVNode("div",vr,[e.renderSlot(_.$slots,"header")]),_.$slots.overlay?e.renderSlot(_.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(J),(h,g)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__overlay_row",key:g,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h,(w,x)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(T)),key:w.value,"aria-selected":w.value===t.modelValue&&!t.disabledValues.includes(w.value),"aria-disabled":w.className.dp__overlay_cell_disabled,ref_for:!0,ref:U=>G(U,w,g,x),tabindex:"0","data-test":w.text,onClick:U=>A(w.value),onKeydown:[e.withKeys(U=>A(w.value),["enter"]),e.withKeys(U=>A(w.value),["space"])],onMouseover:U=>d.value=w.value},[e.createElementVNode("div",{class:e.normalizeClass(w.className)},[_.$slots.item?e.renderSlot(_.$slots,"item",{key:0,item:w}):e.createCommentVNode("",!0),_.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(w.text),1)],64))],2)],42,Ir))),128))]))),128))],6),_.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":(l=t.ariaLabels)==null?void 0:l.toggleOverlay,class:e.normalizeClass(e.unref(F)),tabindex:"0",ref_key:"toggleButton",ref:M,onClick:I,onKeydown:e.withKeys(I,["enter"])},[e.renderSlot(_.$slots,"button-icon")],42,Or)),[[e.vShow,!e.unref(D)(t.type)]]):e.createCommentVNode("",!0)],42,Rr)}}}),Yr=["aria-label"],Kt=e.defineComponent({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(t,{emit:r}){const a=t,{transitionName:n,showTransition:s}=Ge(a.transitions),f=e.ref(null);return e.onMounted(()=>r("set-ref",f)),(k,D)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"dp__month_year_select",onClick:D[0]||(D[0]=V=>k.$emit("toggle")),onKeydown:[D[1]||(D[1]=e.withKeys(V=>k.$emit("toggle"),["enter"])),D[2]||(D[2]=e.withKeys(V=>k.$emit("toggle"),["space"]))],role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:f},[e.renderSlot(k.$slots,"default")],40,Yr),e.createVNode(e.Transition,{name:e.unref(n)(t.showSelectionGrid),css:e.unref(s)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(Ie,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose,type:t.type,arrowNavigation:t.arrowNavigation,textInput:t.textInput,autoApply:t.autoApply,ariaLabels:t.ariaLabels,hideNavigation:t.hideNavigation},{"header-refs":[],"onUpdate:modelValue":D[3]||(D[3]=V=>k.$emit("update:model-value",V)),onToggle:D[4]||(D[4]=V=>k.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[k.$slots["calendar-icon"]?e.renderSlot(k.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),k.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[k.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:V})=>[e.renderSlot(k.$slots,t.slotName,{item:V})]),key:"0"}:void 0,k.$slots[t.overlaySlot]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(k.$slots,t.overlaySlot)]),key:"1"}:void 0,k.$slots[`${t.overlaySlot}-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(k.$slots,`${t.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),Lr={class:"dp__month_year_row"},xr={class:"dp__month_year_wrap"},zr={class:"dp__month_picker_header"},Kr=["aria-label"],Ur=["aria-label"],Hr=["aria-label"],Wr=e.defineComponent({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Ne},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{defaults:s}=ke(n),{transitionName:f,showTransition:k}=Ge(s.value.transitions),{buildMatrix:D}=Se(),{handleMonthYearChange:V,isDisabled:P,updateMonthYear:O}=cr(n,a),S=e.ref(!1),d=e.ref(!1),M=e.ref([null,null,null,null]),Y=e.ref(null),R=e.ref(null),q=e.ref(null);e.onMounted(()=>{a("mount")});const E=m=>({get:()=>n[m],set:o=>{const Z=m==="month"?"year":"month";a("update-month-year",{[m]:o,[Z]:n[Z]}),a("month-year-select",m==="year"),m==="month"?g(!0):w(!0)}}),v=e.computed(E("month")),T=e.computed(E("year")),K=m=>{const o=c.getYear(b(m));return n.year===o},J=e.computed(()=>n.monthPicker?Array.isArray(n.disabledDates)?n.disabledDates.map(m=>b(m)).filter(m=>K(m)).map(m=>c.getMonth(m)):[]:[]),F=e.computed(()=>m=>{const o=m==="month";return{showSelectionGrid:(o?S:d).value,items:(o?_:u).value,disabledValues:s.value.filters[o?"months":"years"].concat(J.value),minValue:(o?A:y).value,maxValue:(o?B:N).value,headerRefs:o&&n.monthPicker?[Y.value,R.value,q.value]:[],escClose:n.escClose,transitions:s.value.transitions,ariaLabels:s.value.ariaLabels,textInput:n.textInput,autoApply:n.autoApply,arrowNavigation:n.arrowNavigation,hideNavigation:n.hideNavigation}}),te=e.computed(()=>m=>({month:n.month,year:n.year,items:m==="month"?n.months:n.years,instance:n.instance,updateMonthYear:O,toggle:m==="month"?g:w})),y=e.computed(()=>n.minDate?c.getYear(b(n.minDate)):null),N=e.computed(()=>n.maxDate?c.getYear(b(n.maxDate)):null),A=e.computed(()=>{if(n.minDate&&y.value){if(y.value>n.year)return 12;if(y.value===n.year)return c.getMonth(b(n.minDate))}return null}),B=e.computed(()=>n.maxDate&&N.value?N.value<n.year?-1:N.value===n.year?c.getMonth(b(n.maxDate)):null:null),I=e.computed(()=>n.range&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),H=m=>m.reverse(),G=(m,o=!1)=>{const Z=[],se=ie=>o?H(ie):ie;for(let ie=0;ie<m.length;ie+=3){const Me=[m[ie],m[ie+1],m[ie+2]];Z.push(se(Me))}return o?Z.reverse():Z},C=e.computed(()=>{const m=n.months.find(o=>o.value===n.month);return m||{text:"",value:0}}),_=e.computed(()=>G(n.months)),u=e.computed(()=>G(n.years,n.reverseYears)),l=e.computed(()=>s.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),h=e.computed(()=>s.value.multiCalendars?n.multiCalendarsSolo?!0:n.instance===s.value.multiCalendars-1:!0),g=(m=!1)=>{x(m),S.value=!S.value,S.value||a("overlay-closed")},w=(m=!1)=>{x(m),d.value=!d.value,d.value||a("overlay-closed")},x=m=>{m||a("reset-flow")},U=(m=!1)=>{P.value(m)||a("update-month-year",{year:m?n.year+1:n.year-1,month:n.month,fromNav:!0})},ne=(m,o)=>{n.arrowNavigation&&(M.value[o]=ue(m),D(M.value,"monthYear"))};return r({toggleMonthPicker:g,toggleYearPicker:w}),(m,o)=>{var Z,se,ie,Me,Be;return e.openBlock(),e.createElementBlock("div",Lr,[m.$slots["month-year"]?e.renderSlot(m.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(O),handleMonthYearChange:e.unref(V),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!m.monthPicker&&!m.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(l)&&!m.vertical?(e.openBlock(),e.createBlock(ut,{key:0,"aria-label":(Z=e.unref(s).ariaLabels)==null?void 0:Z.prevMonth,disabled:e.unref(P)(!1),onActivate:o[0]||(o[0]=Q=>e.unref(V)(!1)),onSetRef:o[1]||(o[1]=Q=>ne(Q,0))},{default:e.withCtx(()=>[m.$slots["arrow-left"]?e.renderSlot(m.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",xr,[e.createVNode(Kt,e.mergeProps({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(se=e.unref(s).ariaLabels)==null?void 0:se.openMonthsOverlay,modelValue:e.unref(v),"onUpdate:modelValue":o[2]||(o[2]=Q=>e.isRef(v)?v.value=Q:null)},e.unref(F)("month"),{onToggle:g,onSetRef:o[3]||(o[3]=Q=>ne(Q,1))}),e.createSlots({default:e.withCtx(()=>[m.$slots.month?e.renderSlot(m.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref(C)))):e.createCommentVNode("",!0),m.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(C).text),1)],64))]),_:2},[m.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"calendar-icon")]),key:"0"}:void 0,m.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:e.withCtx(({item:Q})=>[e.renderSlot(m.$slots,"month-overlay-value",{text:Q.text,value:Q.value})]),key:"1"}:void 0,m.$slots["month-overlay"]?{name:"overlay-month",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"month-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(te)("month"))))]),key:"2"}:void 0,m.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"month-overlay-header",{toggle:g})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),e.createVNode(Kt,e.mergeProps({type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(ie=e.unref(s).ariaLabels)==null?void 0:ie.openYearsOverlay,modelValue:e.unref(T),"onUpdate:modelValue":o[4]||(o[4]=Q=>e.isRef(T)?T.value=Q:null)},e.unref(F)("year"),{onToggle:w,onSetRef:o[5]||(o[5]=Q=>ne(Q,2))}),e.createSlots({default:e.withCtx(()=>[m.$slots.year?e.renderSlot(m.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),m.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))]),_:2},[m.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"calendar-icon")]),key:"0"}:void 0,m.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:e.withCtx(({item:Q})=>[e.renderSlot(m.$slots,"year-overlay-value",{text:Q.text,value:Q.value})]),key:"1"}:void 0,m.$slots["year-overlay"]?{name:"overlay-year",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"year-overlay",e.normalizeProps(e.guardReactiveProps(e.unref(te)("year"))))]),key:"2"}:void 0,m.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:e.withCtx(()=>[e.renderSlot(m.$slots,"year-overlay-header",{toggle:w})]),key:"3"}:void 0]),1040,["aria-label","modelValue"])]),e.unref(l)&&m.vertical?(e.openBlock(),e.createBlock(ut,{key:1,"aria-label":(Me=e.unref(s).ariaLabels)==null?void 0:Me.prevMonth,disabled:e.unref(P)(!1),onActivate:o[6]||(o[6]=Q=>e.unref(V)(!1))},{default:e.withCtx(()=>[m.$slots["arrow-up"]?e.renderSlot(m.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(h)?(e.openBlock(),e.createBlock(ut,{key:2,ref:"rightIcon",disabled:e.unref(P)(!0),"aria-label":(Be=e.unref(s).ariaLabels)==null?void 0:Be.nextMonth,onActivate:o[7]||(o[7]=Q=>e.unref(V)(!0)),onSetRef:o[8]||(o[8]=Q=>ne(Q,3))},{default:e.withCtx(()=>[m.$slots[m.vertical?"arrow-down":"arrow-right"]?e.renderSlot(m.$slots,m.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),m.$slots[m.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(m.vertical?e.unref(Mt):e.unref(bt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),m.monthPicker?(e.openBlock(),e.createBlock(Ie,e.mergeProps({key:1},e.unref(F)("month"),{"skip-active":m.range,year:t.year,"multi-model-value":e.unref(I),"month-picker":"",modelValue:e.unref(v),"onUpdate:modelValue":o[17]||(o[17]=Q=>e.isRef(v)?v.value=Q:null),onToggle:g,onSelected:o[18]||(o[18]=Q=>m.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>{var Q,_e,Ce;return[e.createElementVNode("div",zr,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:Y,onClick:o[9]||(o[9]=W=>U(!1)),onKeydown:o[10]||(o[10]=e.withKeys(W=>U(!1),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(P)(!1)}]),role:"button","aria-label":(Q=e.unref(s).ariaLabels)==null?void 0:Q.prevMonth},[m.$slots["arrow-left"]?e.renderSlot(m.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(wt),{key:1}))],10,Kr)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:R,"aria-label":(_e=e.unref(s).ariaLabels)==null?void 0:_e.openYearsOverlay,tabindex:"0",onClick:o[11]||(o[11]=()=>w(!1)),onKeydown:o[12]||(o[12]=e.withKeys(()=>w(!1),["enter"]))},[m.$slots.year?e.renderSlot(m.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),m.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Ur),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:q,onClick:o[13]||(o[13]=W=>U(!0)),onKeydown:o[14]||(o[14]=e.withKeys(W=>U(!0),["enter"]))},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:e.unref(P)(!0)}]),role:"button","aria-label":(Ce=e.unref(s).ariaLabels)==null?void 0:Ce.nextMonth},[m.$slots["arrow-right"]?e.renderSlot(m.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(bt),{key:1}))],10,Hr)],544)]),e.createVNode(e.Transition,{name:e.unref(f)(d.value),css:e.unref(k)},{default:e.withCtx(()=>[d.value?(e.openBlock(),e.createBlock(Ie,e.mergeProps({key:0},e.unref(F)("year"),{modelValue:e.unref(T),"onUpdate:modelValue":o[15]||(o[15]=W=>e.isRef(T)?T.value=W:null),onToggle:w,onSelected:o[16]||(o[16]=W=>m.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[m.$slots["calendar-icon"]?e.renderSlot(m.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),m.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:W})=>[e.renderSlot(m.$slots,"year-overlay-value",{text:W.text,value:W.value})]),key:"0"}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]}),_:2},[m.$slots["month-overlay-value"]?{name:"item",fn:e.withCtx(({item:Q})=>[e.renderSlot(m.$slots,"month-overlay-value",{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),m.yearPicker?(e.openBlock(),e.createBlock(Ie,e.mergeProps({key:2},e.unref(F)("year"),{modelValue:e.unref(T),"onUpdate:modelValue":o[19]||(o[19]=Q=>e.isRef(T)?T.value=Q:null),"multi-model-value":e.unref(I),"skip-active":m.range,"skip-button-ref":"","year-picker":"",onToggle:w,onSelected:o[20]||(o[20]=Q=>m.$emit("overlay-closed"))}),e.createSlots({_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:Q})=>[e.renderSlot(m.$slots,"year-overlay-value",{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)],64))])}}}),jr={key:0,class:"dp__time_input"},Gr=["aria-label","onKeydown","onClick"],Zr=["aria-label","data-test","onKeydown","onClick"],qr=["aria-label","onKeydown","onClick"],Xr={key:0},Jr=["aria-label","onKeydown"],Qr=e.defineComponent({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Ne},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{setTimePickerElements:s,setTimePickerBackRef:f}=Se(),{defaults:k}=ke(n),{transitionName:D,showTransition:V}=Ge(k.value.transitions),P=e.reactive({hours:!1,minutes:!1,seconds:!1}),O=e.ref("AM"),S=e.ref(null),d=e.ref([]);e.onMounted(()=>{a("mounted")});const M=e.computed(()=>u=>!!(n.maxTime&&n.maxTime[u]&&n.maxTime[u]<n[u]+ +n[`${u}Increment`])),Y=e.computed(()=>u=>!!(n.minTime&&n.minTime[u]&&n.minTime[u]>n[u]-+n[`${u}Increment`])),R=(u,l)=>c.add(c.set(b(),u),l),q=(u,l)=>c.sub(c.set(b(),u),l),E=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),v=e.computed(()=>{const u=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?u.concat([{type:"",separator:!0},{type:"seconds"}]):u}),T=e.computed(()=>v.value.filter(u=>!u.separator)),K=e.computed(()=>u=>{if(u==="hours"){const l=I(n.hours);return{text:l<10?`0${l}`:`${l}`,value:l}}return{text:n[u]<10?`0${n[u]}`:`${n[u]}`,value:n[u]}}),J=u=>{const l=n.is24?24:12,h=u==="hours"?l:60,g=+n[`${u}GridIncrement`],w=u==="hours"&&!n.is24?g:0,x=[];for(let U=w;U<h;U+=g)x.push({value:U,text:U<10?`0${U}`:`${U}`});return u==="hours"&&!n.is24&&x.push({value:0,text:"12"}),qn(x)},F=(u,l)=>{const h=n.minTime&&n.minTime[l],g=n.maxTime&&n.maxTime[l];return h&&g?u<h||u>g:h?u<h:g?u>g:!1},te=e.computed(()=>u=>J(u).flat().map(h=>h.value).filter(h=>F(h,u))),y=u=>n[`no${u[0].toUpperCase()+u.slice(1)}Overlay`],N=u=>{y(u)||(P[u]=!P[u],P[u]||a("overlay-closed"))},A=u=>u==="hours"?c.getHours:u==="minutes"?c.getMinutes:c.getSeconds,B=(u,l=!0)=>{const h=l?R:q;(l?M.value(u):Y.value(u))||a(`update:${u}`,A(u)(h({[u]:+n[u]},{[u]:+n[`${u}Increment`]})))},I=u=>n.is24?u:(u>=12?O.value="PM":O.value="AM",Fn(u)),H=()=>{O.value==="PM"?(O.value="AM",a("update:hours",n.hours-12)):(O.value="PM",a("update:hours",n.hours+12))},G=u=>{P[u]=!0},C=(u,l,h)=>{if(u&&n.arrowNavigation){Array.isArray(d.value[l])?d.value[l][h]=u:d.value[l]=[u];const g=d.value.reduce((w,x)=>x.map((U,ne)=>[...w[ne]||[],x[ne]]),[]);f(n.closeTimePickerBtn),S.value&&(g[1]=g[1].concat(S.value)),s(g,n.order)}},_=(u,l)=>u==="hours"&&!n.is24?a(`update:${u}`,O.value==="PM"?l+12:l):a(`update:${u}`,l);return r({openChildCmp:G}),(u,l)=>{var h;return u.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",jr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),(g,w)=>{var x,U,ne;return e.openBlock(),e.createElementBlock("div",{key:w,class:e.normalizeClass(e.unref(E))},[g.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(M)(g.type)}),role:"button","data-test":"time-inc-btn","aria-label":(x=e.unref(k).ariaLabels)==null?void 0:x.incrementValue(g.type),tabindex:"0",onKeydown:[e.withKeys(m=>B(g.type),["enter"]),e.withKeys(m=>B(g.type),["space"])],onClick:m=>B(g.type),ref_for:!0,ref:m=>C(m,w,0)},[u.$slots["arrow-up"]?e.renderSlot(u.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Dt),{key:1}))],42,Gr),e.createElementVNode("div",{role:"button","aria-label":(U=e.unref(k).ariaLabels)==null?void 0:U.openTpOverlay(g.type),class:e.normalizeClass(y(g.type)?"":"dp__time_display"),tabindex:"0","data-test":`${g.type}-toggle-overlay-btn`,onKeydown:[e.withKeys(m=>N(g.type),["enter"]),e.withKeys(m=>N(g.type),["space"])],onClick:m=>N(g.type),ref_for:!0,ref:m=>C(m,w,1)},[u.$slots[g.type]?e.renderSlot(u.$slots,g.type,{key:0,text:e.unref(K)(g.type).text,value:e.unref(K)(g.type).value}):e.createCommentVNode("",!0),u.$slots[g.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(K)(g.type).text),1)],64))],42,Zr),e.createElementVNode("div",{class:e.normalizeClass({dp__inc_dec_button:!0,dp__inc_dec_button_disabled:e.unref(Y)(g.type)}),role:"button","data-test":"time-dec-btn","aria-label":(ne=e.unref(k).ariaLabels)==null?void 0:ne.decrementValue(g.type),tabindex:"0",onKeydown:[e.withKeys(m=>B(g.type,!1),["enter"]),e.withKeys(m=>B(g.type,!1),["space"])],onClick:m=>B(g.type,!1),ref_for:!0,ref:m=>C(m,w,2)},[u.$slots["arrow-down"]?e.renderSlot(u.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Mt),{key:1}))],42,qr)],64))],2)}),128)),u.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Xr,[u.$slots["am-pm-button"]?e.renderSlot(u.$slots,"am-pm-button",{key:0,toggle:H,value:O.value}):e.createCommentVNode("",!0),u.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:S,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(h=e.unref(k).ariaLabels)==null?void 0:h.amPmButton,tabindex:"0",onClick:H,onKeydown:[e.withKeys(e.withModifiers(H,["prevent"]),["enter"]),e.withKeys(e.withModifiers(H,["prevent"]),["space"])]},e.toDisplayString(O.value),41,Jr))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(T),(g,w)=>(e.openBlock(),e.createBlock(e.Transition,{key:w,name:e.unref(D)(P[g.type]),css:e.unref(V)},{default:e.withCtx(()=>[P[g.type]?(e.openBlock(),e.createBlock(Ie,{key:0,items:J(g.type),"disabled-values":e.unref(k).filters.times[g.type].concat(e.unref(te)(g.type)),"esc-close":u.escClose,"aria-labels":e.unref(k).ariaLabels,"hide-navigation":u.hideNavigation,"onUpdate:modelValue":x=>_(g.type,x),onSelected:x=>N(g.type),onToggle:x=>N(g.type),onResetFlow:l[0]||(l[0]=x=>u.$emit("reset-flow")),type:g.type},e.createSlots({"button-icon":e.withCtx(()=>[u.$slots["clock-icon"]?e.renderSlot(u.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),u.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))]),_:2},[u.$slots[`${g.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:x})=>[e.renderSlot(u.$slots,`${g.type}-overlay-value`,{text:x.text,value:x.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Fr=["aria-label"],ea={class:"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"},ta={key:1,class:"dp__overlay_row"},na=["aria-label"],ra=e.defineComponent({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Ne},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{buildMatrix:s,setTimePicker:f}=Se(),k=e.useSlots(),{hideNavigationButtons:D,defaults:V}=ke(n),{transitionName:P,showTransition:O}=Ge(V.value.transitions),S=e.ref(null),d=e.ref(null),M=e.ref([]),Y=e.ref(null);e.onMounted(()=>{a("mount"),!n.timePicker&&n.arrowNavigation?s([ue(S.value)],"time"):f(!0,n.timePicker)});const R=e.computed(()=>n.range&&n.modelAuto?Ot(n.internalModelValue):!0),q=e.ref(!1),E=B=>({hours:Array.isArray(n.hours)?n.hours[B]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[B]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[B]:n.seconds}),v=e.computed(()=>{const B=[];if(n.range)for(let I=0;I<2;I++)B.push(E(I));else B.push(E(0));return B}),T=(B,I=!1,H="")=>{I||a("reset-flow"),q.value=B,n.arrowNavigation&&(f(B),B||a("overlay-closed")),e.nextTick(()=>{H!==""&&M.value[0]&&M.value[0].openChildCmp(H)})},K=e.computed(()=>({dp__button:!0,dp__button_bottom:n.autoApply})),J=Ae(k,"timePicker"),F=(B,I,H)=>n.range?I===0?[B,v.value[1][H]]:[v.value[0][H],B]:B,te=B=>{a("update:hours",B)},y=B=>{a("update:minutes",B)},N=B=>{a("update:seconds",B)},A=()=>{Y.value&&n.arrowNavigation&&Y.value.focus({preventScroll:!0})};return r({toggleTimePicker:T}),(B,I)=>{var H;return e.openBlock(),e.createElementBlock("div",null,[B.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(K)),role:"button","aria-label":(H=e.unref(V).ariaLabels)==null?void 0:H.openTimePicker,tabindex:"0","data-test":"open-time-picker-btn",ref_key:"openTimePickerBtn",ref:S,onKeydown:[I[0]||(I[0]=e.withKeys(G=>T(!0),["enter"])),I[1]||(I[1]=e.withKeys(G=>T(!0),["space"]))],onClick:I[2]||(I[2]=G=>T(!0))},[B.$slots["clock-icon"]?e.renderSlot(B.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),B.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))],42,Fr)),[[e.vShow,!e.unref(D)("time")]]),e.createVNode(e.Transition,{name:e.unref(P)(q.value),css:e.unref(O)},{default:e.withCtx(()=>{var G;return[q.value||B.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:Y,tabindex:"0"},[e.createElementVNode("div",ea,[B.$slots["time-picker-overlay"]?e.renderSlot(B.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:te,setMinutes:y,setSeconds:N}):e.createCommentVNode("",!0),B.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ta,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(v),(C,_)=>e.withDirectives((e.openBlock(),e.createBlock(Qr,e.mergeProps({key:_},{...B.$props,order:_,hours:C.hours,minutes:C.minutes,seconds:C.seconds,closeTimePickerBtn:d.value,disabled:_===0?B.fixedStart:B.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:M,"onUpdate:hours":u=>te(F(u,_,"hours")),"onUpdate:minutes":u=>y(F(u,_,"minutes")),"onUpdate:seconds":u=>N(F(u,_,"seconds")),onMounted:A,onOverlayClosed:A}),e.createSlots({_:2},[e.renderList(e.unref(J),(u,l)=>({name:u,fn:e.withCtx(h=>[e.renderSlot(B.$slots,u,e.normalizeProps(e.guardReactiveProps(h)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,_===0?!0:e.unref(R)]])),128))])),B.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:2,ref_key:"closeTimePickerBtn",ref:d,class:e.normalizeClass(e.unref(K)),role:"button","aria-label":(G=e.unref(V).ariaLabels)==null?void 0:G.closeTimePicker,tabindex:"0",onKeydown:[I[3]||(I[3]=e.withKeys(C=>T(!1),["enter"])),I[4]||(I[4]=e.withKeys(C=>T(!1),["space"]))],onClick:I[5]||(I[5]=C=>T(!1))},[B.$slots["calendar-icon"]?e.renderSlot(B.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),B.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))],42,na)),[[e.vShow,!e.unref(D)("time")]])])],512)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),aa=(t,r)=>{const{isDisabled:a,matchDate:n,getWeekFromDate:s}=ke(r),f=e.ref(null),k=e.ref(b()),D=l=>{!l.current&&r.hideOffsetDates||(f.value=l.value)},V=()=>{f.value=null},P=l=>Array.isArray(t.value)&&r.range&&t.value[0]&&f.value?l?he(f.value,t.value[0]):ye(f.value,t.value[0]):!0,O=(l,h)=>{const g=()=>t.value?h?t.value[0]||null:t.value[1]:null,w=t.value&&Array.isArray(t.value)?g():null;return le(b(l.value),w)},S=l=>{const h=Array.isArray(t.value)?t.value[0]:null;return l?!ye(f.value||null,h):!0},d=(l,h=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)?r.hideOffsetDates&&!l.current?!1:le(b(l.value),t.value[h?0:1]):r.range?O(l,h)&&S(h)||le(l.value,Array.isArray(t.value)?t.value[0]:null)&&P(h):!1,M=(l,h,g)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?l?!1:g?he(t.value[0],h.value):ye(t.value[0],h.value):!1,Y=l=>!t.value||r.hideOffsetDates&&!l.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?le(l.value,t.value[0]?t.value[0]:k.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(h=>le(h,l.value)):le(l.value,t.value?t.value:k.value),R=l=>{if(r.autoRange||r.weekPicker){if(f.value){if(r.hideOffsetDates&&!l.current)return!1;const h=c.addDays(f.value,+r.autoRange),g=s(b(f.value));return r.weekPicker?le(g[1],b(l.value)):le(h,b(l.value))}return!1}return!1},q=l=>{if(r.autoRange||r.weekPicker){if(f.value){const h=c.addDays(f.value,+r.autoRange);if(r.hideOffsetDates&&!l.current)return!1;const g=s(b(f.value));return r.weekPicker?he(l.value,g[0])&&ye(l.value,g[1]):he(l.value,f.value)&&ye(l.value,h)}return!1}return!1},E=l=>{if(r.autoRange||r.weekPicker){if(f.value){if(r.hideOffsetDates&&!l.current)return!1;const h=s(b(f.value));return r.weekPicker?le(h[0],l.value):le(f.value,l.value)}return!1}return!1},v=l=>Bt(t.value,f.value,l.value),T=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,K=()=>r.modelAuto?Ot(r.internalModelValue):!0,J=l=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const h=r.range?!d(l)&&!d(l,!1):!0;return!a(l.value)&&!Y(l)&&!(!l.current&&r.hideOffsetDates)&&h},F=l=>r.range?r.modelAuto?T()&&Y(l):!1:Y(l),te=l=>r.highlight?n(l.value,r.highlight):!1,y=l=>a(l.value)&&r.highlightDisabledDays===!1,N=l=>r.highlightWeekDays&&r.highlightWeekDays.includes(l.value.getDay()),A=l=>(r.range||r.weekPicker)&&(!(r.multiCalendars>0)||l.current)&&K()&&!(!l.current&&r.hideOffsetDates)&&!Y(l)?v(l):!1,B=l=>({dp__cell_offset:!l.current,dp__pointer:!r.disabled&&!(!l.current&&r.hideOffsetDates)&&!a(l.value),dp__cell_disabled:a(l.value),dp__cell_highlight:!y(l)&&(te(l)||N(l))&&!F(l),dp__cell_highlight_active:!y(l)&&(te(l)||N(l))&&F(l),dp__today:!r.noToday&&le(l.value,k.value)&&l.current}),I=l=>({dp__active_date:F(l),dp__date_hover:J(l)}),H=l=>({...G(l),...C(l),dp__range_between_week:A(l)&&r.weekPicker}),G=l=>({dp__range_start:r.multiCalendars>0?l.current&&d(l)&&K():d(l)&&K(),dp__range_end:r.multiCalendars>0?l.current&&d(l,!1)&&K():d(l,!1)&&K(),dp__range_between:A(l)&&!r.weekPicker,dp__date_hover_start:M(J(l),l,!0),dp__date_hover_end:M(J(l),l,!1)}),C=l=>({...G(l),dp__cell_auto_range:q(l),dp__cell_auto_range_start:E(l),dp__cell_auto_range_end:R(l)}),_=l=>r.range?r.autoRange?C(l):r.modelAuto?{...I(l),...G(l)}:G(l):r.weekPicker?H(l):I(l);return{setHoverDate:D,clearHoverDate:V,getDayClassData:l=>({...B(l),..._(l),[r.dayClass?r.dayClass(l.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName})}},la=["id","onKeydown"],oa={key:0,class:"dp__sidebar_left"},sa={key:1,class:"dp__preset_ranges"},ia=["onClick"],ca={key:2,class:"dp__sidebar_right"},ua={key:3,class:"dp__now_wrap"},da=e.defineComponent({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},...Ne},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{setMenuFocused:s,setShiftKey:f,control:k}=St(),{getCalendarDays:D,defaults:V}=ke(n),P=e.useSlots(),O=e.ref(null),S=e.reactive({timePicker:!!(!n.enableTimePicker||n.timePicker||n.monthPicker),monthYearInput:!!n.timePicker,calendar:!1}),d=e.ref([]),M=e.ref([]),Y=e.ref(null),R=e.ref(null),q=e.ref(0),E=e.ref(!1),v=e.ref(0);e.onMounted(()=>{var L;E.value=!0,!((L=n.presetRanges)!=null&&L.length)&&!P["left-sidebar"]&&!P["right-sidebar"]&&re();const p=ue(R);if(p&&!n.textInput&&!n.inline&&(s(!0),y()),p){const ce=me=>{Object.keys(P).length||me.preventDefault(),me.stopImmediatePropagation(),me.stopPropagation()};p.addEventListener("pointerdown",ce),p.addEventListener("mousedown",ce)}window.addEventListener("resize",re)}),e.onUnmounted(()=>{window.removeEventListener("resize",re)});const{arrowRight:T,arrowLeft:K,arrowDown:J,arrowUp:F}=Se(),te=p=>{p||p===0?M.value[p].triggerTransition(H.value(p),G.value(p)):M.value.forEach((L,ce)=>L.triggerTransition(H.value(ce),G.value(ce)))},y=()=>{const p=ue(R);p&&p.focus({preventScroll:!0})},N=()=>{var p;(p=n.flow)!=null&&p.length&&v.value!==-1&&(v.value+=1,a("flow-step",v.value),$())},A=()=>{v.value=-1},{calendars:B,modelValue:I,month:H,year:G,time:C,updateTime:_,updateMonthYear:u,selectDate:l,getWeekNum:h,monthYearSelect:g,handleScroll:w,handleArrow:x,handleSwipe:U,getMarker:ne,selectCurrentDate:m,presetDateRange:o}=sr(n,a,N,te,v),{setHoverDate:Z,clearHoverDate:se,getDayClassData:ie}=aa(I,n);e.watch(B,()=>{n.openOnTop&&setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const Me=Ae(P,"calendar"),Be=Ae(P,"action"),Q=Ae(P,"timePicker"),_e=Ae(P,"monthYear"),Ce=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),W=e.computed(()=>Jn(n.yearRange)),oe=e.computed(()=>Qn(n.locale,n.monthNameFormat)),re=()=>{const p=ue(O);p&&(q.value=p.getBoundingClientRect().width)},Ve=e.computed(()=>p=>D(H.value(p),G.value(p))),be=e.computed(()=>V.value.multiCalendars>0&&n.range?[...Array(V.value.multiCalendars).keys()]:[0]),Oe=e.computed(()=>p=>p===1),mt=e.computed(()=>n.monthPicker||n.timePicker||n.yearPicker),yt=e.computed(()=>({dp__flex_display:V.value.multiCalendars>0})),Ze=e.computed(()=>({dp__instance_calendar:V.value.multiCalendars>0})),Ye=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),ht=e.computed(()=>p=>pt(Ve,p)),gt=e.computed(()=>({dp__menu:!0,dp__menu_index:!n.inline,dp__relative:n.inline,[n.menuClassName]:!!n.menuClassName})),pt=(p,L)=>p.value(L).map(ce=>({...ce,days:ce.days.map(me=>(me.marker=ne(me),me.classData=ie(me),me))})),qe=p=>{p.stopPropagation(),p.stopImmediatePropagation()},Ut=()=>{n.escClose&&a("close-picker")},Ht=(p,L=!1)=>{l(p,L),n.spaceConfirm&&a("select-date")},Xe=p=>{var L;(L=n.flow)!=null&&L.length&&(S[p]=!0,Object.keys(S).filter(ce=>!S[ce]).length||$())},i=(p,L,ce,me,...$e)=>{if(n.flow[v.value]===p){const j=me?L.value[0]:L.value;j&&j[ce](...$e)}},$=()=>{i("month",d,"toggleMonthPicker",!0,!0),i("year",d,"toggleYearPicker",!0,!0),i("calendar",Y,"toggleTimePicker",!1,!1,!0),i("time",Y,"toggleTimePicker",!1,!0,!0);const p=n.flow[v.value];(p==="hours"||p==="minutes"||p==="seconds")&&i(p,Y,"toggleTimePicker",!1,!0,!0,p)},z=p=>{if(n.arrowNavigation){if(p==="up")return F();if(p==="down")return J();if(p==="left")return K();if(p==="right")return T()}else p==="left"||p==="up"?x("left",0,p==="up"):x("right",0,p==="down")},X=p=>{f(p.shiftKey),!n.disableMonthYearSelect&&p.code==="Tab"&&p.target.classList.contains("dp__menu")&&k.value.shiftKeyInMenu&&(p.preventDefault(),p.stopImmediatePropagation(),a("close-picker"))};return r({updateMonthYear:u}),(p,L)=>{var ce;return e.openBlock(),e.createBlock(e.Transition,{appear:"",name:(ce=e.unref(V).transitions)==null?void 0:ce.menuAppear,mode:"out-in",css:!!p.transitions},{default:e.withCtx(()=>{var me,$e;return[e.createElementVNode("div",{id:p.uid?`dp-menu-${p.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:R,role:"dialog",class:e.normalizeClass(e.unref(gt)),onMouseleave:L[14]||(L[14]=(...j)=>e.unref(se)&&e.unref(se)(...j)),onClick:qe,onKeydown:[e.withKeys(Ut,["esc"]),L[15]||(L[15]=e.withKeys(e.withModifiers(j=>z("left"),["prevent"]),["left"])),L[16]||(L[16]=e.withKeys(e.withModifiers(j=>z("up"),["prevent"]),["up"])),L[17]||(L[17]=e.withKeys(e.withModifiers(j=>z("down"),["prevent"]),["down"])),L[18]||(L[18]=e.withKeys(e.withModifiers(j=>z("right"),["prevent"]),["right"])),X]},[(p.disabled||p.readonly)&&p.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(Ye))},null,2)):e.createCommentVNode("",!0),!p.inline&&!p.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(Ce))},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass({dp__menu_content_wrapper:((me=p.presetRanges)==null?void 0:me.length)||!!p.$slots["left-sidebar"]||!!p.$slots["right-sidebar"]})},[p.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",oa,[e.renderSlot(p.$slots,"left-sidebar")])):e.createCommentVNode("",!0),($e=p.presetRanges)!=null&&$e.length?(e.openBlock(),e.createElementBlock("div",sa,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.presetRanges,(j,Re)=>(e.openBlock(),e.createElementBlock("div",{key:Re,style:e.normalizeStyle(j.style||{}),class:"dp__preset_range",onClick:ee=>e.unref(o)(j.range,!!j.slot)},[j.slot?e.renderSlot(p.$slots,j.slot,{key:0,presetDateRange:e.unref(o),label:j.label,range:j.range}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(j.label),1)],64))],12,ia))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:O,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(yt))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(be),(j,Re)=>(e.openBlock(),e.createElementBlock("div",{key:j,class:e.normalizeClass(e.unref(Ze))},[!p.disableMonthYearSelect&&!p.timePicker?(e.openBlock(),e.createBlock(Wr,e.mergeProps({key:0,ref_for:!0,ref:ee=>{ee&&(d.value[Re]=ee)},months:e.unref(oe),years:e.unref(W),month:e.unref(H)(j),year:e.unref(G)(j),instance:j,"internal-model-value":t.internalModelValue},p.$props,{onMount:L[0]||(L[0]=ee=>Xe("monthYearInput")),onResetFlow:A,onUpdateMonthYear:ee=>e.unref(u)(j,ee),onMonthYearSelect:e.unref(g),onOverlayClosed:y}),e.createSlots({_:2},[e.renderList(e.unref(_e),(ee,pa)=>({name:ee,fn:e.withCtx(kt=>[e.renderSlot(p.$slots,ee,e.normalizeProps(e.guardReactiveProps(kt)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode(Vr,e.mergeProps({ref_for:!0,ref:ee=>{ee&&(M.value[Re]=ee)},"specific-mode":e.unref(mt),"get-week-num":e.unref(h),instance:j,"mapped-dates":e.unref(ht)(j),month:e.unref(H)(j),year:e.unref(G)(j)},p.$props,{"flow-step":v.value,"onUpdate:flowStep":L[1]||(L[1]=ee=>v.value=ee),onSelectDate:ee=>e.unref(l)(ee,!e.unref(Oe)(j)),onHandleSpace:ee=>Ht(ee,!e.unref(Oe)(j)),onSetHoverDate:L[2]||(L[2]=ee=>e.unref(Z)(ee)),onHandleScroll:ee=>e.unref(w)(ee,j),onHandleSwipe:ee=>e.unref(U)(ee,j),onMount:L[3]||(L[3]=ee=>Xe("calendar")),onResetFlow:A,onTooltipOpen:L[4]||(L[4]=ee=>p.$emit("tooltip-open",ee)),onTooltipClose:L[5]||(L[5]=ee=>p.$emit("tooltip-close",ee))}),e.createSlots({_:2},[e.renderList(e.unref(Me),(ee,pa)=>({name:ee,fn:e.withCtx(kt=>[e.renderSlot(p.$slots,ee,e.normalizeProps(e.guardReactiveProps({...kt})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","flow-step","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[p.$slots["time-picker"]?e.renderSlot(p.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(C),updateTime:e.unref(_)}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[p.enableTimePicker&&!p.monthPicker&&!p.weekPicker?(e.openBlock(),e.createBlock(ra,e.mergeProps({key:0,ref_key:"timePickerRef",ref:Y,hours:e.unref(C).hours,minutes:e.unref(C).minutes,seconds:e.unref(C).seconds,"internal-model-value":t.internalModelValue},p.$props,{onMount:L[6]||(L[6]=j=>Xe("timePicker")),"onUpdate:hours":L[7]||(L[7]=j=>e.unref(_)(j)),"onUpdate:minutes":L[8]||(L[8]=j=>e.unref(_)(j,!1)),"onUpdate:seconds":L[9]||(L[9]=j=>e.unref(_)(j,!1,!0)),onResetFlow:A,onOverlayClosed:y}),e.createSlots({_:2},[e.renderList(e.unref(Q),(j,Re)=>({name:j,fn:e.withCtx(ee=>[e.renderSlot(p.$slots,j,e.normalizeProps(e.guardReactiveProps(ee)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):e.createCommentVNode("",!0)],64))])],512),p.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",ca,[e.renderSlot(p.$slots,"right-sidebar")])):e.createCommentVNode("",!0),p.showNowButton?(e.openBlock(),e.createElementBlock("div",ua,[p.$slots["now-button"]?e.renderSlot(p.$slots,"now-button",{key:0,selectCurrentDate:e.unref(m)}):e.createCommentVNode("",!0),p.$slots["now-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:L[10]||(L[10]=(...j)=>e.unref(m)&&e.unref(m)(...j))},e.toDisplayString(p.nowButtonLabel),1))])):e.createCommentVNode("",!0)],2),!p.autoApply||p.keepActionRow?(e.openBlock(),e.createBlock(Dr,e.mergeProps({key:2,"menu-mount":E.value,"calendar-width":q.value,"internal-model-value":t.internalModelValue},p.$props,{onClosePicker:L[11]||(L[11]=j=>p.$emit("close-picker")),onSelectDate:L[12]||(L[12]=j=>p.$emit("select-date")),onInvalidSelect:L[13]||(L[13]=j=>p.$emit("invalid-select"))}),e.createSlots({_:2},[e.renderList(e.unref(Be),(j,Re)=>({name:j,fn:e.withCtx(ee=>[e.renderSlot(p.$slots,j,e.normalizeProps(e.guardReactiveProps({...ee})))])}))]),1040,["menu-mount","calendar-width","internal-model-value"])):e.createCommentVNode("",!0)],42,la)]}),_:3},8,["name","css"])}}}),fa=typeof window<"u"?window:void 0,dt=()=>{},ma=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,ya=(t,r,a,n)=>{if(!t)return dt;let s=dt;const f=e.watch(()=>e.unref(t),D=>{s(),D&&(D.addEventListener(r,a,n),s=()=>{D.removeEventListener(r,a,n),s=dt})},{immediate:!0,flush:"post"}),k=()=>{f(),s()};return ma(k),k},ha=(t,r,a,n={})=>{const{window:s=fa,event:f="pointerdown"}=n;return s?ya(s,f,D=>{const V=ue(t),P=ue(r);!V||!P||V===D.target||D.composedPath().includes(V)||D.composedPath().includes(P)||a(D)},{passive:!0}):void 0},ga=e.defineComponent({__name:"VueDatePicker",props:{...Ne},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,s=e.useSlots(),f=e.ref(!1),k=e.toRef(n,"modelValue"),D=e.toRef(n,"timezone"),V=e.ref(null),P=e.ref(null),O=e.ref(!1),S=e.ref(null),{setMenuFocused:d,setShiftKey:M}=St(),{clearArrowNav:Y}=Se(),{validateDate:R,isValidTime:q,defaults:E}=ke(n);e.onMounted(()=>{B(n.modelValue),n.inline||(y(S.value).addEventListener("scroll",u),window.addEventListener("resize",l)),n.inline&&(f.value=!0)}),e.onUnmounted(()=>{if(!n.inline){const W=y(S.value);W&&W.removeEventListener("scroll",u),window.removeEventListener("resize",l)}});const v=Ae(s,"all",n.presetRanges),T=Ae(s,"input");e.watch([k,D],()=>{B(k.value)},{deep:!0});const{openOnTop:K,menuPosition:J,setMenuPosition:F,setInitialPosition:te,getScrollableParent:y}=ur(V,P,a,n),{inputValue:N,internalModelValue:A,parseExternalModelValue:B,emitModelValue:I,formatInputValue:H,checkBeforeEmit:G}=ir(a,n,O),C=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),_=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),u=()=>{f.value&&(n.closeOnScroll?o():F())},l=()=>{f.value&&F()},h=()=>{!n.disabled&&!n.readonly&&(te(),f.value=!0,e.nextTick().then(()=>{F(),f.value&&a("open")}),f.value||m(),B(n.modelValue))},g=()=>{N.value="",m(),a("update:model-value",null),a("cleared"),o()},w=()=>{const W=A.value;return!W||!Array.isArray(W)&&R(W)?!0:Array.isArray(W)?W.length===2&&R(W[0])&&R(W[1])?!0:R(W[0]):!1},x=()=>{G()&&w()?(I(),o()):a("invalid-select",A.value)},U=W=>{I(),n.closeOnAutoApply&&!W&&o()},ne=(W=!1)=>{n.autoApply&&q(A.value)&&w()&&(n.range&&Array.isArray(A.value)?(n.partialRange||A.value.length===2)&&U(W):U(W))},m=()=>{n.textInput||(A.value=null)},o=()=>{n.inline||(f.value&&(f.value=!1,d(!1),M(!1),Y(),a("closed"),te(),N.value&&B(k.value)),m(),P.value&&P.value.focusInput())},Z=(W,oe)=>{if(!W){A.value=null;return}A.value=W,oe&&(x(),a("text-submit"))},se=()=>{n.autoApply&&q(A.value)&&I()},ie=()=>f.value?o():h(),Me=W=>{A.value=W},Be=e.computed(()=>n.textInput&&E.value.textInputOptions.format),Q=()=>{Be.value&&(O.value=!0,H()),a("focus")},_e=()=>{Be.value&&(O.value=!1,H()),a("blur")},Ce=W=>{V.value&&V.value.updateMonthYear(0,{month:Yt(W.month),year:Yt(W.year)})};return ha(V,P,n.onClickOutside?()=>n.onClickOutside(w):o),r({closeMenu:o,selectDate:x,clearValue:g,openMenu:h,onScroll:u,formatInputValue:H,updateInternalModelValue:Me,setMonthYear:Ce}),(W,oe)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(C)),ref_key:"pickerWrapperRef",ref:S},[e.createVNode(kr,e.mergeProps({ref_key:"inputRef",ref:P,"is-menu-open":f.value,"input-value":e.unref(N),"onUpdate:inputValue":oe[0]||(oe[0]=re=>e.isRef(N)?N.value=re:null)},W.$props,{onClear:g,onOpen:h,onSetInputDate:Z,onSetEmptyDate:e.unref(I),onSelectDate:x,onToggle:ie,onClose:o,onFocus:Q,onBlur:_e}),e.createSlots({_:2},[e.renderList(e.unref(T),(re,Ve)=>({name:re,fn:e.withCtx(be=>[e.renderSlot(W.$slots,re,e.normalizeProps(e.guardReactiveProps(be)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),f.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[f.value?(e.openBlock(),e.createBlock(da,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:V,class:e.unref(_),style:e.unref(J),"open-on-top":e.unref(K)},W.$props,{"internal-model-value":e.unref(A),"onUpdate:internalModelValue":oe[1]||(oe[1]=re=>e.isRef(A)?A.value=re:null),onClosePicker:o,onSelectDate:x,onAutoApply:ne,onTimeUpdate:se,onFlowStep:oe[2]||(oe[2]=re=>W.$emit("flow-step",re)),onUpdateMonthYear:oe[3]||(oe[3]=re=>W.$emit("update-month-year",re)),onInvalidSelect:oe[4]||(oe[4]=re=>W.$emit("invalid-select",e.unref(A))),onInvalidFixedRange:oe[5]||(oe[5]=re=>W.$emit("invalid-fixed-range",re)),onRecalculatePosition:e.unref(F),onTooltipOpen:oe[6]||(oe[6]=re=>W.$emit("tooltip-open",re)),onTooltipClose:oe[7]||(oe[7]=re=>W.$emit("tooltip-close",re))}),e.createSlots({_:2},[e.renderList(e.unref(v),(re,Ve)=>({name:re,fn:e.withCtx(be=>[e.renderSlot(W.$slots,re,e.normalizeProps(e.guardReactiveProps({...be})))])}))]),1040,["class","style","open-on-top","internal-model-value","onRecalculatePosition"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0)],2))}}),ft=(()=>{const t=ga;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:ft},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(ft[t]=r)}),ft});
